{"title":"recipes API [request]","pubDate":"2016-10-24T18:11:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/recipes-API-request","comments":[{"pubDate":"2016-10-29T14:45:02.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/recipes-API-request/6383287","author":"Reincarnated.1754","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on October 25 2016 04:16PM\"><a href=\"/forum/community/api/recipes-API-request/6378314\">Elfo Bianco.3786:</a></cite></div><div class=\"quotey\"><p>Anyway you don’t have to make a loop for each id, that is ok sometimes with only few ids, but for a lot of them you have to use “v2/recipes?ids=string of ids” where <strong>“string of ids” is a comma separated string of maximum 200 ids</strong>. It is very important that your string does not go over 200 ids because it will return an error.<br>\nWhat you have to do is a loop that create a new string of maximum 200 ids, then get those maximum 200 recipes from API:2/recipes. (It is like ?page=number of page?size=200 where 200 is maximum size of items you can get from api in a single request). After that you get all output_item_id from your list and do a similar loop with API:2/items.<br>\nEven if API:2/recipes could be optimized adding all the necessary infos directly there, using “?ids=” you get all data needed in few seconds.<br>\nI think that if you fix your loop at point 2. you’ll get a substantial boost.</p></div></blockquote>\n<p>Oh, thanks for the info, I did not know about the 200 limit, I suspected there might be a limit, but was not sure.</p>\n<p>I still think it’s <strong>name</strong> should be included though<img src=\"/include/images/smilies/smile.png\"><br>\n<em>Practically everything else that has a name, has the name returned.</em></p>","arenanet":false},{"pubDate":"2016-10-28T20:38:16.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/recipes-API-request/6382562","author":"Mystic.5934","body":"\n<p>what I would like to see returned from the recipes api is the data_id of the recipe sheet that you learn that recipe from.  <br>\nfor example: <a href=\"https://api.guildwars2.com/v2/recipes/3327\">https://api.guildwars2.com/v2/recipes/3327</a><br>\nthis recipe makes “Pot of Artichoke Soup”<br>\nyou learn this recipe by consuming “Recipe: Pot of Artichoke Soup”, data_id 9798<br>\nso you’d add to /recipes/3327 this text:<br>\n</p><pre><code>\"learned_from_id\":9798</code></pre><p></p>\n<p>OR<br>\nan alternative would be to add to the item’s api the recipe_id the item unlocks.  so you’d add to /items/9798 the text:<br>\n</p><pre><code>\"teaches_recipe_id\":3327</code></pre><p></p>\n<p>edit:  nevermind! it’s already there!<br>\n<a href=\"https://api.guildwars2.com/v2/items/9772\">https://api.guildwars2.com/v2/items/9772</a><br>\n</p><pre><code>\"details\":{\"type\":\"Unlock\",\"unlock_type\":\"CraftingRecipe\",\"recipe_id\":3301}</code></pre><p></p>","arenanet":false},{"pubDate":"2016-10-25T16:16:47.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/recipes-API-request/6378314","author":"Elfo Bianco.3786","body":"\n<p>I know that not all info are stored in API:2/recipes, I also explained something here <a href=\"https://forum-en.guildwars2.com/forum/community/api/bad-skin-s-id\">https://forum-en.guildwars2.com/forum/community/api/bad-skin-s-id</a>. So, for example, adding the name of a recipe doens’t avoid you from loading item from API:2/items if you want to show the rarity color too, but that increase the amount of data from API:2/recipes (ok a bit ;D) and you get it again from API:2/items.</p>\n<p>As you have said you can add \"Recipe: \" to the output item name, but your example is not a recipe learned from item, so the name of auto learned recipes is exactly the output item name. What can I say now is that actually for recipes learned from item the recipe item id is missing in API:2/recipes; for auto learned recipes the recipe item does not exist.<br>\nIn my opinion you don’t have to add \"Recipe: \" and the output item name is enough.</p>\n<p>Anyway you don’t have to make a loop for each id, that is ok sometimes with only few ids, but for a lot of them you have to use “v2/recipes?ids=string of ids” where <strong>“string of ids” is a comma separated string of maximum 200 ids</strong>. It is very important that your string does not go over 200 ids because it will return an error.<br>\nWhat you have to do is a loop that create a new string of maximum 200 ids, then get those maximum 200 recipes from API:2/recipes. (It is like ?page=number of page?size=200 where 200 is maximum size of items you can get from api in a single request). After that you get all output_item_id from your list and do a similar loop with API:2/items.<br>\nEven if API:2/recipes could be optimized adding all the necessary infos directly there, using “?ids=” you get all data needed in few seconds.<br>\nI think that if you fix your loop at point 2. you’ll get a substantial boost.</p>","arenanet":false},{"pubDate":"2016-10-25T15:07:57.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/recipes-API-request/6378206","author":"Reincarnated.1754","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on October 25 2016 11:17AM\"><a href=\"/forum/community/api/recipes-API-request/6377984\">Elfo Bianco.3786:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on October 24 2016 06:11PM\"><a href=\"/forum/community/api/recipes-API-request/6376999\">Reincarnated.1754:</a></cite></div><div class=\"quotey\"><p>Is it possible to have the Recipes actual <strong>name</strong> returned?</p></div></blockquote>\n<p>You get the name with API:2/items and “output_item_id”.<br>\nIn your case:<br>\n<a href=\"https://api.guildwars2.com/v2/items/46742\">https://api.guildwars2.com/v2/items/46742</a> that returns “Lump of Mithrillium”.</p></div></blockquote>\n<p>I know this.<br>\nAlso this is the name of the end result of using the recipe. (not the recipe item name)<br>\nAlso I know its not much of a problem, I could add the word \"Recipe: \" to it.</p>\n<p>But it was a Request, not an issue.</p>\n<p>I wanted to keep the number of send/receive to a minimum.</p>\n<p>As it is, to get what I want (Create a list of Recipe’s I Have) I would have to:</p>\n<p>1. Get ID’s of recipes I have. (v2/account/recipes)</p>\n<p>2. <del>Create a coma separated string of ID’s and get the Recipe info. (v2/recipes?ids=string of ids)</del> that didn’t work so:<br>\nfor next loop for each ID (v2/recipes/id)<br>\n<strong>a lot of send/receive</strong></p>\n<p>3. Now to create a list of recipes I have by name.<br>\nWait for the above to complete(2), another for next loop finding the output of each, then adding \"Recipe: \" to all results, the number of send/receive is adding up.</p>\n<p>If the name was added to the recipe info I would be able to make my list without step 3.</p>\n<p>Better still if the end point from: <strong>v2/account/recipes</strong> was <strong>id</strong> &amp; <strong>name</strong>.<br>\nThen a list could be created and the recipe info would only be request on selection in the list. Saving the need to make a for next loop to download the info for all recopies at one time.</p>\n<p>Could I change the request<img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2016-10-25T11:17:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/recipes-API-request/6377984","author":"Elfo Bianco.3786","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on October 24 2016 06:11PM\"><a href=\"/forum/community/api/recipes-API-request/6376999\">Reincarnated.1754:</a></cite></div><div class=\"quotey\"><p>Is it possible to have the Recipes actual <strong>name</strong> returned?</p></div></blockquote>\n<p>You get the name with API:2/items and “output_item_id”.<br>\nIn your case:<br>\n<a href=\"https://api.guildwars2.com/v2/items/46742\">https://api.guildwars2.com/v2/items/46742</a> that returns “Lump of Mithrillium”.</p>","arenanet":false},{"pubDate":"2016-10-24T18:11:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/recipes-API-request/6376999","author":"Reincarnated.1754","body":"\n<p><a href=\"https://api.guildwars2.com/v2/recipes/7319\">https://api.guildwars2.com/v2/recipes/7319</a> <br>\n{<br>\n  “type”: “RefinementEctoplasm”,<br>\n  “output_item_id”: 46742,<br>\n  “output_item_count”: 1,<br>\n  “min_rating”: 450,<br>\n  “time_to_craft_ms”: 5000,<br>\n  “disciplines”: [ “Armorsmith”, “Artificer”, “Huntsman”, “Weaponsmith” ],<br>\n  “flags”: [ “AutoLearned” ],<br>\n  “ingredients”: [<br>\n    { “item_id”: 19684, “count”: 50 },<br>\n    { “item_id”: 19721, “count”: 1 },<br>\n    { “item_id”: 46747, “count”: 10 }<br>\n  ],<br>\n  “id”: 7319,<br>\n  “chat_link”: “[&amp;CpccAAA=]”<br>\n}</p>\n<p>Is it possible to have the Recipes actual <strong>name</strong> returned?</p>","arenanet":false}]}