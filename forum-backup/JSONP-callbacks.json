{"title":"JSONP callbacks?","pubDate":"2013-05-20T22:01:43.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks","comments":[{"pubDate":"2013-06-13T09:52:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2205332","author":"SpaceCowboy.1398","body":"\n<p>I’m a noob when it comes to PHP, but by borrowing from other scripts and a little experimentation, I can pass this script a ‘url’ parameter and it will fetch the data for me.</p>\n<p>I have a condition statement to only use this if the browser doesn’t support CORS via XHR.</p>\n<pre><code>\n\t&lt;?php\n\n\t$post_data = $HTTP_RAW_POST_DATA;\n\n\t$header[] = \"Content-type: application/json\";\n\t$header[] = \"Content-length: \" . strlen( $post_data );\n\n\t$ch = curl_init( $_GET[ \"url\" ] ); \n\tcurl_setopt( $ch, CURLOPT_RETURNTRANSFER, 1 );\n\tcurl_setopt( $ch, CURLOPT_TIMEOUT, 10 );\n\tcurl_setopt( $ch, CURLOPT_HTTPHEADER, $header );\n\n\tif ( strlen( $post_data ) &gt; 0 ) {\n\t\tcurl_setopt( $ch, CURLOPT_POST, 1 );\n\t\tcurl_setopt( $ch, CURLOPT_POSTFIELDS, $post_data );\n\t}\n\n\t$response = curl_exec( $ch );\n\n\tif ( curl_errno( $ch ) ) {\n\n\t\tprint curl_error( $ch );\n\t\t\n\t} else {\n\n\t\tcurl_close( $ch );\n\t\theader( \"Content-type: application/json\" );\n\t\tprint $response;\n\t\t\n\t}\n\n\t?&gt;\n\n</code></pre>\n<p>I really hate Microsoft. :S<br>\n-Cowboy</p>","arenanet":false},{"pubDate":"2013-06-12T00:31:24.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2196979","author":"Healix.5819","body":"\n<p>It’s not possible to go from http to https when using XDR. You can either make your page https, simply tell the user to upgrade browsers or proxy the api yourself.</p>\n<p><a href=\"http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\">http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx</a></p>","arenanet":false},{"pubDate":"2013-06-11T22:55:35.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2196453","author":"SpaceCowboy.1398","body":"\n<p>I running into this issue now too.  I’ve been trying to access the APIs with both jQuery and AngularJS.  Both do not support MS XDR.</p>\n<p>So, for the moment my web app can’t support IE8 or IE9!</p>\n<p>I’m hosting my app via HTTP.  Does anybody have a link to a good tutorial on how to get XDR working HTTP&gt;HTTPS?  Or is it not possible from a pure JavaScript solution?</p>\n<p>Thanks!</p>","arenanet":false},{"pubDate":"2013-05-21T07:28:04.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2065901","author":"Crise.9401","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 21 2013 07:13AM\"><a href=\"/forum/community/api/JSONP-callbacks/2065865\">Pat Cavit.9234:</a></cite></div><div class=\"quotey\"><p>IE8+ does CORS fine, you’ll just need to use XDR instead of XHR for IE 8 &amp; 9. We do it regularly &amp; it works great.</p></div></blockquote>\n<p>jQuery doesn’t support it, if I have to be aware of this… which I am painfully so, because jQuery refuses to adamantly support it and the plugins available to do it all have gotchas to be aware. That kinda defeats the point of using a javascript library that is intended to abstract the differences between vendors away.</p>\n<p>To be honest, the only reason why I didn’t just drop it after Cliff’s statement is because jQuery just so happens to be one of the most popular javascript libraries on the market. If nothing more it is something that in my opinion deserves the benefit of a discussion.</p>\n<p>As for XDR natively, here: <a href=\"http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\">http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx</a></p>\n<p>I would hardly call that wall of text of gotchas to be aware supporting CORS fine<img src=\"/include/images/smilies/smile.png\">. Note that CORS XDR, according to above, fails to even address the http/https discussion where CORS was brought up to begin with.</p>\n<p>For me personally it is a no brainer, wrapping the API’s server side takes about a minute, and I am being generous. But it does mask several end users of your API under a single requestee because the server is mediating the requests.</p>","arenanet":false},{"pubDate":"2013-05-21T07:13:17.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2065865","author":"Pat Cavit.9234","body":"\n<p>IE8+ does CORS fine, you’ll just need to use XDR instead of XHR for IE 8 &amp; 9. We do it regularly &amp; it works great.</p>\n<p>JSONP is an elegant hack… but it’s still a hack.</p>","arenanet":true},{"pubDate":"2013-05-20T23:41:09.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2064294","author":"Crise.9401","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 20 2013 11:13PM\"><a href=\"/forum/community/api/JSONP-callbacks/2064159\">poke.3712:</a></cite></div><div class=\"quotey\"><p>As per <a href=\"https://forum-en.guildwars2.com/forum/community/api/HTTP-access/first#post2064091\">this answer</a> JSONP won’t happen for now. CORS support is now there though.</p></div></blockquote>\n<p>Replied there as well, but anything older than IE 10 does not deal with CORS very well… in particular if jQuery is used… and the fallback methods have some shortcomings.</p>\n<p>I feel they are jumping the gun here with the obsolete consideration to be frank… especially considering that jsonp can relatively easily be opt in, and hardly requires any effort.</p>","arenanet":false},{"pubDate":"2013-05-20T23:13:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2064159","author":"poke.3712","body":"\n<p>As per <a href=\"https://forum-en.guildwars2.com/forum/community/api/HTTP-access/first#post2064091\">this answer</a> JSONP won’t happen for now. CORS support is now there though.</p>","arenanet":false},{"pubDate":"2013-05-20T22:28:02.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2063912","author":"vigorator.7420","body":"\n<p>I agree a JSONP call back would be ideal for this. Make those clients do the work :P</p>","arenanet":false},{"pubDate":"2013-05-20T22:04:36.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2063775","author":"poke.3712","body":"\n<p>This is somewhat related to <a href=\"https://forum-en.guildwars2.com/forum/community/api/HTTP-access/\">this topic</a>. JSONP would work for me too.</p>","arenanet":false},{"pubDate":"2013-05-20T22:01:43.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JSONP-callbacks/2063751","author":"Crise.9401","body":"\n<p>Are these supported by the api or do I have to write a server side wrapper for any cross-domain shenanigans for client side components.</p>","arenanet":false}]}