{"title":"How do you start using API?","pubDate":"2014-08-18T19:43:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API","comments":[{"pubDate":"2014-08-30T18:38:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4351346","author":"DennisChrDk.9823","body":"\n<p>Never got to say this, but thank you very much for all the help guys. My spreadsheet is working like a charm, it’s much better compared to my old one were I had to type in everything manually<img src=\"/include/images/smilies/colondee.png\"></p>","arenanet":false},{"pubDate":"2014-08-26T17:46:45.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4335863","author":"Alcarin.9024","body":"\n<p>Here is an example of what are you asking: <a href=\"http://pastebin.com/XRruKP8f\">http://pastebin.com/XRruKP8f</a></p>\n<p>Alternatively, you can adjust downloaded value directly in download function, as shown in this example: <a href=\"http://pastebin.com/MYkaF1jZ\">http://pastebin.com/MYkaF1jZ</a></p>\n<p>In my examples I’ve stored final values in variables because I don’t know how you use them.</p>","arenanet":false},{"pubDate":"2014-08-22T18:58:35.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4321299","author":"StevenL.3761","body":"\n<p>The point was that should have a single function that returns the entire response object. You have to do this in order to prevent your script from making multiple HTTP requests for the same json object.</p>\n<pre><code>\nfunction getItem(itemID) {\n    var myUrl = \"http://www.gw2spidy.com/api/v0.9/json/item/\" + escape(itemID);\n    var jsonData = UrlFetchApp.fetch(myUrl);\n    var jsonString = jsonData.getContentText();\n    return JSON.parse(jsonString).result;\n}\n\nvar item = getItem(the_item_identifier);\n\nvar sellValue = item.min_sale_unit_price;\n\nvar salePriceChangeLastHour = item.sale_price_change_last_hour ;\n\nvar buyValue = item.max_offer_unit_price;\n\nvar offerPriceChangeLastHour = item.offer_price_change_last_hour;\n</code></pre>","arenanet":false},{"pubDate":"2014-08-22T10:29:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4319886","author":"DennisChrDk.9823","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 19 2014 04:35PM\"><a href=\"/forum/community/api/How-do-you-start-using-API/4309913\">Alcarin.9024:</a></cite></div><div class=\"quotey\"><p>In your specific situation, you should separate connections from data elaboration.<br>\nI would do so:<br>\nCreate a function that get data from gw2spidy:<br>\n</p><pre><code>\nfunction GetItem(ItemID){\n    [...cut...]\n    return jsonObject\n}\n</code></pre>and then create a function for each data you need, passing the jsonObject to them:<br>\n<pre><code>\nfunction GetItemSellValue(jsonObject){\n    return (jsonObject.min_sale_unit_price /100)\n}\n</code></pre><p></p></div></blockquote>\n<p>Can anyone help me out with this? I’m not sure how to get this to work. I set up the entire spreadsheet now, and minimized the amount of data that I import to like 30 buy/sell prices, but once in a while it gives me the error and says that the “service” was called to many times?</p>\n<p>I just want it to update once ever hour (and maybe show what time it was updated), but I dont know how to do it myself. And can’t really find any guilds ect. online that shows how to do it?</p>\n<p>EDIT: Changed the code a little bit, added a utility sleep function, I guess that will help a little: <a href=\"http://pastebin.com/BBhAJHdX\">http://pastebin.com/BBhAJHdX</a></p>","arenanet":false},{"pubDate":"2014-08-20T18:54:21.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4314400","author":"Dr Ishmael.9685","body":"\n<p>Just pretend that the /v2 stub doesn’t even exist, makes everything easier.</p>","arenanet":false},{"pubDate":"2014-08-19T21:40:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4311217","author":"StevenL.3761","body":"\n<p>We don’t know what the JSON response will look like yet. We’re still waiting for more info on version 2 of the API and its release date.</p>","arenanet":false},{"pubDate":"2014-08-19T20:58:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4311081","author":"DennisChrDk.9823","body":"\n<p>Well I havn’t really had much time today to look into all the things that you send me, but I’ve been looking at some of it for maybe an hour or two, justto get an idea of what to do<img src=\"/include/images/smilies/smile.png\"></p>\n<p><a href=\"http://pastebin.com/Qc1UbmQr\">http://pastebin.com/Qc1UbmQr</a></p>\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 19 2014 04:35PM\"><a href=\"/forum/community/api/How-do-you-start-using-API/4309913\">Alcarin.9024:</a></cite></div><div class=\"quotey\"><p>In your example, you are creating 4 connection to a server to know 4 information about an item. If you look at the url about that item, you see that you are asking to the server 4 time the same informations each time discarding all you get exept 1 piece of that ifnormations.</p></div></blockquote>\n<p>I see, I tried make a new script, in order to minimize the connections but I didn’t really got it to work (try take a look at the link). So the first line i guess is the part getting the data for gw2spidy, while the last part is the function?</p>\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 19 2014 07:56PM\"><a href=\"/forum/community/api/How-do-you-start-using-API/4310778\">StevenL.3761:</a></cite></div><div class=\"quotey\"><p>You’re looking for these:</p>\n<ul>\n\t<li><a href=\"https://api.guildwars2.com/v2/commerce/exchange\">https://api.guildwars2.com/v2/commerce/exchange</a></li>\n\t<li><a href=\"https://api.guildwars2.com/v2/commerce/listings\">https://api.guildwars2.com/v2/commerce/listings</a></li>\n</ul></div></blockquote>\n<p>Oh thanks didn’t see those, guess I’ll just change it when I get past the first initial part. But What jsonObject should I write? I doubte the line \"var adjustedValue = (jsonObject.exchange /100); \" is correct?</p>","arenanet":false},{"pubDate":"2014-08-19T19:56:14.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4310778","author":"StevenL.3761","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 19 2014 04:30PM\"><a href=\"/forum/community/api/How-do-you-start-using-API/4309897\">DennisChrDk.9823:</a></cite></div><div class=\"quotey\"><p>But a thing I can’t see is prices of the item? The only price I can find is the vendor price?</p></div></blockquote>\n<p>You’re looking for these:</p>\n<ul>\n\t<li><a href=\"https://api.guildwars2.com/v2/commerce/exchange\">https://api.guildwars2.com/v2/commerce/exchange</a></li>\n\t<li><a href=\"https://api.guildwars2.com/v2/commerce/listings\">https://api.guildwars2.com/v2/commerce/listings</a></li>\n</ul>","arenanet":false},{"pubDate":"2014-08-19T16:35:13.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4309913","author":"Alcarin.9024","body":"\n<p>When writing code that relay on an API service, keep in mind that a connection to get data from a server is a cost (for you and for the server, in terms of hardware resource utilization and time), and you should always try to reduce as much as possible the cost of your application.<br>\nIn your example, you are creating 4 connection to a server to know 4 information about an item. If you look at the url about that item, you see that you are asking to the server 4 time the same informations each time discarding all you get exept 1 piece of that ifnormations. This is a waste of resource, it’s not that much if you (for example) get information about 4 different items, but for each items you add 4 new connections, and if you want to know info about 100 items, you will make 400 connections, 1000 items=4000 connections.<br>\nRegarding time needed to get information, if every connection cost 200 ms of “idle of your program”, to get all information about a single item your program have to wait 800 ms, to get info about 4 items your program must wait 3200 ms (3,2 seconds), 100 items you have to wait 80 seconds. Reducing the amount of connection you programe idle time will be 1/4, so to get info about 100 items you only have to wait 20 seconds.</p>\n<p>In your specific situation, you should separate connections from data elaboration.<br>\nI would do so:<br>\nCreate a function that get data from gw2spidy:<br>\n</p><pre><code>\nfunction GetItem(ItemID){\n    [...cut...]\n    return jsonObject\n}\n</code></pre>and then create a function for each data you need, passing the jsonObject to them:<br>\n<pre><code>\nfunction GetItemSellValue(jsonObject){\n    return (jsonObject.min_sale_unit_price /100)\n}\n</code></pre><p></p>\n<p>About help on programming: I don’t know much about google spreadsheet, if you want to learn javascript there are a lot of website with guides, personally I use <a href=\"http://www.w3schools.com\">W3Schools</a> and <a href=\"https://developer.mozilla.org\">MDN</a> as reference and some non-english for guides.<br>\nIn this forum you could find a lot of examples on how to use GW2 API (not GW2Spidy API, GW2Spidy API are not developed by ArenaNet) but they are in a lot of different programming lenguage, I don’t know how much of them are in JavaScript.<br>\nYou could find something in <a href=\"http://wiki.guildwars2.com/wiki/API:List_of_wrappers\">GW2 API Wrapper List</a> or <a href=\"http://wiki.guildwars2.com/wiki/API:List_of_applications\">List of Application that use GW2 API</a>.</p>\n<p>If you have problem with some piece of code, if you ask here and post or link to your code I’m sure that someone can help you!<br>\nDon’t use images if you are sharing your code to get help, if someone want to help you and want to try your code, they have to rewrite it all, they cannot copy&amp;paste it, use <a href=\"http://www.pastebin.com\">pastebin</a> or <a href=\"http://www.jsfiddle.net\">jsfiddle</a>) instead!</p>","arenanet":false},{"pubDate":"2014-08-19T16:30:07.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4309897","author":"DennisChrDk.9823","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 19 2014 07:25AM\"><a href=\"/forum/community/api/How-do-you-start-using-API/4308244\">StevenL.3761:</a></cite></div><div class=\"quotey\"><p>Hey!</p>\n<p>Read these first:</p>\n<p>API version 1: <a href=\"https://api.guildwars2.com/v1\">https://api.guildwars2.com/v1</a><br>\nAPI version 2: <a href=\"https://api.guildwars2.com/v2\">https://api.guildwars2.com/v2</a></p>\n<p>Note that gw2spidy does not use the official API. It uses the same web service that the game client itself uses to access trading post data. Which is not a supported scenario.</p></div></blockquote>\n<p>Thank you very much for the links, had not seen them before. I’ve actually been browsing the wiki for a while now, just to get an idea of what you would be able to extract from the API. <br>\nBut a thing I can’t see is prices of the item? The only price I can find is the vendor price?</p>","arenanet":false},{"pubDate":"2014-08-19T07:25:05.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4308244","author":"StevenL.3761","body":"\n<p>Hey!</p>\n<p>Read these first:</p>\n<p>API version 1: <a href=\"https://api.guildwars2.com/v1\">https://api.guildwars2.com/v1</a><br>\nAPI version 2: <a href=\"https://api.guildwars2.com/v2\">https://api.guildwars2.com/v2</a></p>\n<p>Note that gw2spidy does not use the official API. It uses the same web service that the game client itself uses to access trading post data. Which is not a supported scenario.</p>","arenanet":false},{"pubDate":"2014-08-18T19:43:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/How-do-you-start-using-API/4306229","author":"DennisChrDk.9823","body":"\n<p>Hey guys</p>\n<p>I was hoping some of you guys could help me out a bit. I just started today looking into some stuff about the API and decided to implement some of it in some google spreadsheets that I have, instead of me manually having to updating the prices. So far, I’m just trying to import some data from GW2Spidy, then I might make it more advanced later on. But my knowledge about programming is very limited.</p>\n<p>So first of all, do anyone have any suggesting to maybe a website or a youtube channel where you could learn some of this basic stuff? Or maybe there is a place where I can see some excisting code from some gw2 related API?</p>\n<p>So this is the scrip I’ve so far, most of it is pretty much just a rip off from some guide, but I’ve added some more lines from the gw2spidy API v0.9. <a href=\"http://imgur.com/saif8we\">http://imgur.com/saif8we</a><br>\nRight now I’m trying to add an auto refresh and a timer to when the prices were last updated? Could anyone help me with that? I tried adding a script with the response “price_last_changed” but it just gave me an error.<br>\nI’ve tried add an Image script as well, but whenever I use it I just get a link? I guess I’ll have to change the outpu, but how do I do that?</p>","arenanet":false}]}