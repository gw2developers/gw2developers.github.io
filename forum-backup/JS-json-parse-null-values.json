{"title":"JS json.parse \"null\" values","pubDate":"2016-08-24T15:56:53.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values","comments":[{"pubDate":"2016-08-25T17:21:07.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values/6303607","author":"Elfo Bianco.3786","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 24 2016 09:52PM\"><a href=\"/forum/community/api/JS-json-parse-null-values/6302464\">potatofarms.9241:</a></cite></div><div class=\"quotey\"><p>I’m assuming it must have been something wrong with the visual studio debug. Your code should (and does) work.</p>\n<p>Here’s a JS fiddle: <a href=\"https://jsfiddle.net/eq8wb3t0/2/\">https://jsfiddle.net/eq8wb3t0/2/</a></p></div></blockquote>\n<p>Yes it was visual studio. It was hard to imagine that visual studio debug could be bugged<img src=\"/include/images/smilies/colondee.png\"></p>\n<p>Thank you for your help guys<img src=\"/include/images/smilies/wink.png\"></p>","arenanet":false},{"pubDate":"2016-08-24T21:52:37.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values/6302464","author":"potatofarms.9241","body":"\n<p>I’m assuming it must have been something wrong with the visual studio debug. Your code should (and does) work.</p>\n<p>Here’s a JS fiddle: <a href=\"https://jsfiddle.net/eq8wb3t0/2/\">https://jsfiddle.net/eq8wb3t0/2/</a></p>","arenanet":false},{"pubDate":"2016-08-24T17:51:21.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values/6302055","author":"Elfo Bianco.3786","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 24 2016 05:31PM\"><a href=\"/forum/community/api/JS-json-parse-null-values/6302020\">Anhim.3156:</a></cite></div><div class=\"quotey\"><p>The only thing that comes to mind then is that your initial “null” is not the null object. Is it perhaps already a string, or some other form?</p></div></blockquote>\n<p>No it was an object. Now (after a PC crash) all works with “if (jParsed[i] != null)”, maybe something went wrong with visual studio debug -_-</p>","arenanet":false},{"pubDate":"2016-08-24T17:31:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values/6302020","author":"Anhim.3156","body":"\n<p>The only thing that comes to mind then is that your initial “null” is not the null object. Is it perhaps already a string, or some other form?</p>","arenanet":false},{"pubDate":"2016-08-24T16:31:51.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values/6301919","author":"Elfo Bianco.3786","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 24 2016 04:21PM\"><a href=\"/forum/community/api/JS-json-parse-null-values/6301900\">Anhim.3156:</a></cite></div><div class=\"quotey\"><p>I don’t know if this is “proper” or “pretty”, but couldn’t you just use<br>\n   if(jParsed[i]){<br>\n   …<br>\n   }</p></div></blockquote>\n<p>I have tested it too, but it returns True even for “null” objects. Really I don’t understand why.</p>\n<p><strong>Actually I have done a new JS code block:</strong><br>\nfor (var i = 0; i &lt; jParsed.length; i++) {<br>\nvar temp = JSON.stringify(jParsed[i]);<br>\nif (jParsed[i] != “null”) {<br>\n//listIds.push(jBank[it].id);<br>\n}<br>\n}</p>\n<p>The last solution works but I hope that could be an easier/faster way to check an object directly without stringify it again..</p>","arenanet":false},{"pubDate":"2016-08-24T16:21:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values/6301900","author":"Anhim.3156","body":"\n<p>I don’t know if this is “proper” or “pretty”, but couldn’t you just use<br>\n   if(jParsed[i]){<br>\n   …<br>\n   }</p>","arenanet":false},{"pubDate":"2016-08-24T15:56:53.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/JS-json-parse-null-values/6301839","author":"Elfo Bianco.3786","body":"\n<p>Hello guys,<br>\nI have already used the GW2 api with C#.NET with good results, but now I’m trying to use them client side with Javascript. I get json data and I parse it with the following line code <strong>var jParsed = JSON.parse(jData);</strong><br>\nWith a full json list of objects everything goes good, but when there are <strong>null</strong> objects/values with .NET I can make a For loop to check if an object is null or not, while in Javascript even “null” objects seem to be “not null”.<br>\nI’m testing JS with API:2/account/bank so there are some bank’s slots that could be null (empty slot in game).</p>\n<p><strong>json data block example (API:2/account/bank):</strong><br>\n[{\"id\":67777,“count”: 151,“binding”:\"Account\"},<br>\n{\"id\":44640,“count”: 52,“binding”:\"Account\"},<br>\n{\"id\":44640,“count” :250,“binding”:\"Account\"},<br>\n{\"id\":45001,“count”: 23,“binding”:\"Account\"},<br>\nnull,<br>\n{\"id\":68109,“count”: 107,“binding”:\"Account\"},<br>\n{\"id\":43766,“count”: 250,“binding”:\"Account\"}]</p>\n<p>Now I need to read json data of the items in the bank, and before it I check if a bank’s slot is empty or not. In Javascript I check if an object is null or not.</p>\n<p><strong>javascript check code:</strong><br>\nfor (var i = 0; i &lt; jParsed.length; i++) {<br>\n            if (jParsed[i] !== null) {<br>\n                //listIds.push(jBank[it].id);<br>\n            }<br>\n        }</p>\n<p>The code above seems to work but the “if” condition returns True even for the fifth object that should be null. I have noticed it because from the console of Chrome I get “Uncaught TypeError: Cannot read property ‘id’ of null”.</p>\n<p>Does someone have any tips to skip null objects?<br>\nI’m using javascript for the first time and I didn’t understand why I couldn’t check with simply  “if (jParsed[i] != null)” instead of “if (jParsed[i] !== null)”, but anyway I hope in some help<img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false}]}