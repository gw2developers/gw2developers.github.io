{"title":"Bloodstone Fen [Tile Service]","pubDate":"2016-07-29T16:40:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service","comments":[{"pubDate":"2016-09-15T20:39:20.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service/6328081","author":"Reincarnated.1754","body":"\n<p>Thank you Lawton.</p>\n<p>Welcome back, hope you had a nice vacation<img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2016-09-13T19:56:02.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service/6325539","author":"Lawton Campbell.8517","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on July 30 2016 08:25AM\"><a href=\"/forum/community/api/Bloodstone-Fen-Tile-Service/6266550\">Reincarnated.1754:</a></cite></div><div class=\"quotey\"><p><strong>EDIT:</strong> Just did daily (Southsun survival). map 920 floor 37<br>\nDon’t Know if this is a separate issue?<br>\nI think it is. Looks more to do with the maps API.<br>\n<a href=\"http://img.techpowerup.org/160730/capture015.jpg\">http://img.techpowerup.org/160730/capture015.jpg</a><br>\nThe default floor is not listed in the floors.<br>\nFloors show 12, not 1, 2 (not coma separated)</p></div></blockquote>\n<p>This may be a bug. In the actual data for Southsun Survival, the default floor is not listed in the list of floors. For some reason, it is for pretty much all the other maps. It may make sense to have the API frontend normalize the data so that the default floor is always in the floors list (because that would make sense).</p>\n<p>Created a <a href=\"https://github.com/arenanet/api-cdi/issues/356\">tracking issue for this</a>.</p>","arenanet":true},{"pubDate":"2016-07-30T08:25:25.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service/6266550","author":"Reincarnated.1754","body":"\n<p>Thank you for looking into it Lawton, I think it could be a cache thing.<br>\nMore tiles are showing as time passes.</p>\n<p>Hopefully it will sort its self out over time, and I’ll change my code back when it settles down.<img src=\"/include/images/smilies/smile.png\"></p>\n<p>floor 0<br>\n<a href=\"http://img.techpowerup.org/160730/capture010.jpg\">http://img.techpowerup.org/160730/capture010.jpg</a><br>\nfloor 1<br>\n<a href=\"http://img.techpowerup.org/160730/capture008.jpg\">http://img.techpowerup.org/160730/capture008.jpg</a><br>\nfloor 2<br>\n<a href=\"http://img.techpowerup.org/160730/capture011.jpg\">http://img.techpowerup.org/160730/capture011.jpg</a></p>\n<p>Thanks</p>\n<p><strong>EDIT:</strong> sorted I think<br>\nI am using <strong>Microsoft Edge</strong>.<br>\nTried it with <strong>Explorer</strong>, no problems.<br>\nSorry about that.<br>\n<strong>Microsoft Edge</strong>, the piece of ****, it should be called <strong>Microsoft ALFA Kitten Edge</strong> (use with care). lol</p>\n<p><strong>EDIT:</strong> Just did daily (Southsun survival). map 920 floor 37<br>\nDon’t Know if this is a separate issue?<br>\nI think it is. Looks more to do with the maps API.<br>\n<a href=\"http://img.techpowerup.org/160730/capture015.jpg\">http://img.techpowerup.org/160730/capture015.jpg</a><br>\nThe default floor is not listed in the floors.<br>\nFloors show 12, not 1, 2 (not coma separated)</p>\n<p>In <strong>MS Edge:</strong><br>\nMy main app. <a href=\"http://img.techpowerup.org/160730/capture012127.jpg\">http://img.techpowerup.org/160730/capture012127.jpg</a><br>\nIn <strong>MS Explorer:</strong><br>\nMy main app. <a href=\"http://img.techpowerup.org/160730/capture014.jpg\">http://img.techpowerup.org/160730/capture014.jpg</a><br>\nUsing my tool I linked.  <a href=\"http://img.techpowerup.org/160730/capture013.jpg\">http://img.techpowerup.org/160730/capture013.jpg</a></p>\n<p><strong>EDIT:</strong> 95% sure it’s MS Edge.<br>\n… =&gt; settings =&gt; Clear Browsing Data “Choose what to clear” =&gt; Tick: “Cached data and files”. Click: “Clear”.<br>\nI now see all tiles in Bloodstone Fen and Raid map.</p>\n<p>Sorry if it caused you trouble.</p>","arenanet":false},{"pubDate":"2016-07-29T20:11:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service/6265654","author":"Lawton Campbell.8517","body":"\n<p>I can’t repro it at all — I don’t see any weirdness with the new tiles (Bloodstone Fen, Stronghold of the Faithful, Raid on Capricorn, etc) with either your tool or mine.</p>\n<p>I highly suspect there’s some kind of cache coherency error on one of the EU CloudFront edge servers — it’s possible that it somehow cached a bad request or something. I’m not entirely sure <em>how</em> that’d be possible given the origin is an S3 bucket, but I kicked off another invalidation of the entire CloudFront distribution to <em>hopefully</em> do <em>something</em>.</p>\n<p>Invalidations usually take 20-40 minutes from what I’ve seen; I can’t connect to the broken edge servers so let me know if that changes anything ;__;</p>\n<p>EDIT: As an additional datapoint, smiley <a href=\"https://gitter.im/arenanet/api-cdi?at=579a50dfac80b5ea3f143542\">mentioned on gitter</a> that this is a regular occurance whenever tiles are updated and it usually resolves itself after awhile. It might be worth investigating setting the CloudFront edge servers to NA-only to see if that fixes the problem (at the cost of CDN latency for non-NA tile consumers) :/</p>\n<p>EDIT2: The invalidation I kicked off says it’s completed.</p>","arenanet":true},{"pubDate":"2016-07-29T20:02:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service/6265635","author":"Reincarnated.1754","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on July 29 2016 04:57PM\"><a href=\"/forum/community/api/Bloodstone-Fen-Tile-Service/6265232\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><p>I’m unable to repro. All of the subdomains are configured with the same CloudFront distribution — so they’re all identical in both origin configuration and invalidation. There was some talk the other day about tiles taking an unreasonable amount of time to invalidate at certain EU edge servers but I haven’t been able to repro it.</p>\n<p>Do you have an example URL that serves different tile data than tiles.guildwars2.com? i.e. a specific tile. The ones I’ve peeked at are identical between domains.</p></div></blockquote>\n<p>I’ve left my main app. changed so it works ok, atm.<br>\nI have this which I made to get info on the event api.<br>\n<a href=\"http://www.timscloud.uk/Tim/GW2/EventTool/Event_Tool.html\">http://www.timscloud.uk/Tim/GW2/EventTool/Event_Tool.html</a> <br>\nI have left this configured to use the subdomains.</p>\n<p>If you go to the bottom part and enter 1165 (Bloodstone Fen) in Map ID box and click Get map details.</p>\n<p>Then zoom in and out of Bloodstone Fen map you should hopefully get what I was getting, which is missing tiles.</p>\n<p>you can do it for each floor by changing floor number and clicking the button.</p>\n<p>I found floor 1 was the worst. when zoomed in max.<br>\nAlso the effect is with Stronghold of the faithful.</p>\n<p><em>sorry if the page looks squashed, I use it on a portrait monitor</em><img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2016-07-29T16:57:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service/6265232","author":"Lawton Campbell.8517","body":"\n<p>I’m unable to repro. All of the subdomains are configured with the same CloudFront distribution — so they’re all identical in both origin configuration and invalidation. There was some talk the other day about tiles taking an unreasonable amount of time to invalidate at certain EU edge servers but I haven’t been able to repro it.</p>\n<p>Do you have an example URL that serves different tile data than tiles.guildwars2.com? i.e. a specific tile. The ones I’ve peeked at are identical between domains.</p>","arenanet":true},{"pubDate":"2016-07-29T16:40:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Bloodstone-Fen-Tile-Service/6265196","author":"Reincarnated.1754","body":"\n<p>Is the some issue with some of the Tile Service <strong><em>subdomains</em></strong>?</p>\n<p>I have had to change some code to see Bloodstone Fen maps.</p>\n<p><strong>Changed from:</strong><br>\n        tiles = L.tileLayer(“<a href=\"https://tiles{s}.guildwars2.com/1/1/{z}/{x}/{y}.jpg\">https://tiles{s}.guildwars2.com/1/1/{z}/{x}/{y}.jpg</a>”, {<br>\n            zIndex: 0,<br>\n            minZoom: 3,<br>\n            maxZoom: 7,<br>\n            continuousWorld: true,<br>\n            subdomains: [1, 2, 3, 4]<br>\n        }).addTo(map);</p>\n<p><strong>To:</strong><br>\n        tiles = L.tileLayer(“<a href=\"https://tiles.guildwars2.com/1/1/{z}/{x}/{y}.jpg\">https://tiles.guildwars2.com/1/1/{z}/{x}/{y}.jpg</a>”, {<br>\n            zIndex: 0,<br>\n            minZoom: 3,<br>\n            maxZoom: 7,<br>\n            continuousWorld: true<br>\n        }).addTo(map);</p>\n<p>I removed the use of subdomains.</p>","arenanet":false}]}