<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>The Commerce APIs are now live!</title>
  <meta name="description" content="Learn how to use the GW2 API.">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="/forum-backup/The-Commerce-APIs-are-now-live/">
  <link rel="alternate" type="application/rss+xml" title="GW2 Developers" href="/feed.xml">
  
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-106748097-1', 'auto');
  ga('send', 'pageview');

</script>
  

  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/"><img src="/assets/images/logo.svg"></a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
            <a class="page-link" href="/forum-backup/">Forum Backup</a>
            
          
            
            
            <a class="page-link" href="/guides/">Guides</a>
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">The Commerce APIs are now live!</h1>
  </header>

  <div class="post-content">
    


<p class="post-meta">
    Original Url: http://forum-en.guildwars2.com/forum/community/api/The-Commerce-APIs-are-now-live
</p>



<h2 id="">Stephane Lo Presti.7258:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T19:52:34+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<p>Hi API community,</p>
<p>We just want to let you know that the Commerce APIs are now live and available here:<br>
<a href="http://api.guildwars2.com/v2/commerce/listings">http://api.guildwars2.com/v2/commerce/listings</a><br>
<a href="http://api.guildwars2.com/v2/commerce/exchange">http://api.guildwars2.com/v2/commerce/exchange</a></p>
<p>Documentation for these APIs will be added to the wiki at some point but it’s not ready yet. When it finished, it’ll be added to this page: <a href="http://wiki.guildwars2.com/wiki/API:Main">http://wiki.guildwars2.com/wiki/API:Main</a></p>
<p>Thanks and have fun!</p></p>

<h2 id="">Silveress.5197:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:15:04+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<p>I have been waiting for an update like this  I have a feeling that it will be well used (by myself at least).<br>
Thank you for your hard work with it from everyone who uses the API.</p></p>

<h2 id="">Samuirai.4561:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:24:16+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<p>Played a bit around. Here is how the API works:</p>
<p>All Item IDs:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings">http://api.guildwars2.com/v2/commerce/listings</a></p>
<p>A single Item:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings/70">http://api.guildwars2.com/v2/commerce/listings/70</a></p>
<p>Multiple Items:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings?ids=70,71,72">http://api.guildwars2.com/v2/commerce/listings?ids=70,71,72</a></p></p>

<h2 id="">Creativewild.6319:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:28:29+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<p>This is really great news,  I have been waiting to see this live, just made a few tests looks really good.</p>
<p>one good thing would be before the documentation is ready if anyone of the API developers team can just post some of the parameters accepted by the commerce endpoint would be gold.</p>
<p>Good work on this, you guys are great.</p></p>

<h2 id="">Creativewild.6319:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:32:11+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 08 2014 09:24PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4376632">Samuirai.4561:</a></cite></div><div class="quotey"><p>Played a bit around. Here is how the API works:</p>
<p>All Item IDs:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings">http://api.guildwars2.com/v2/commerce/listings</a></p>
<p>A single Item:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings/70">http://api.guildwars2.com/v2/commerce/listings/70</a></p>
<p>Multiple Items:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings?ids=70,71,72">http://api.guildwars2.com/v2/commerce/listings?ids=70,71,72</a></p></div></blockquote>
<p>i hope we can also get the “offer’s” bit from this, but if not is good anyway</p></p>

<h2 id="">Creativewild.6319:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:35:40+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 08 2014 09:32PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4376652">Creativewild.6319:</a></cite></div><div class="quotey"><blockquote><div class="citey"><cite title="Posted on September 08 2014 09:24PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4376632">Samuirai.4561:</a></cite></div><div class="quotey"><p>Played a bit around. Here is how the API works:</p>
<p>All Item IDs:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings">http://api.guildwars2.com/v2/commerce/listings</a></p>
<p>A single Item:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings/70">http://api.guildwars2.com/v2/commerce/listings/70</a></p>
<p>Multiple Items:<br>
    <a href="http://api.guildwars2.com/v2/commerce/listings?ids=70,71,72">http://api.guildwars2.com/v2/commerce/listings?ids=70,71,72</a></p></div></blockquote>
<p><del>i hope we can also get the “offer’s” bit from this, but if not is good anyway</del></p></div></blockquote>
<p><em>Forget this just parsed the json file and there it is, sell and buy heheheeh</em></p>
<p><strong>@Anet API Team, you guys are a star</strong></p></p>

<h2 id="">Leighwyn McClendon.9346:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:44:10+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<p>Looks like the detailed listings update every 60 seconds, more or less.</p></p>

<h2 id="">Gewd.8125:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:45:28+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<p>Thanks. </p>
<p>Would it be possible to get a URL that only has the buy/sell price/volume so we won’t cause massive traffic to the server if we don’t need the exact order book?</p></p>

<h2 id="">Leighwyn McClendon.9346:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T21:46:56+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 08 2014 09:45PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4376695">Gewd.8125:</a></cite></div><div class="quotey"><p>Thanks. </p>
<p>Would it be possible to get a URL that only has the buy/sell price/volume so we won’t cause massive traffic to the server if we don’t need the exact order book?</p></div></blockquote>
<p>Could already exist, we won’t know the full list of valid params until they tell us in the documentation (or if someone is really good at guessing).</p></p>

<h2 id="">Aerodin.2795:</h2>
<p class="post-meta">
    <time datetime="2014-09-08T22:11:46+00:00">
        08 Sep 2014
    </time>
</p>
<p>
<p>This is awesome! It’s great to finally see some real progress on those v2 APIs.</p></p>

<h2 id="">KkIenJuju.9406:</h2>
<p class="post-meta">
    <time datetime="2014-09-09T06:54:13+00:00">
        09 Sep 2014
    </time>
</p>
<p>
<p>Why do you publish an API without basic documentation?<br>
Im happy anyway that 2 years after game release we finally have an TP API.</p></p>

<h2 id="">StevenL.3761:</h2>
<p class="post-meta">
    <time datetime="2014-09-09T09:34:08+00:00">
        09 Sep 2014
    </time>
</p>
<p>
<p>Thanks Stephane. Don’t stop there! We want those other APIs too.</p></p>

<h2 id="">poke.3712:</h2>
<p class="post-meta">
    <time datetime="2014-09-09T12:38:51+00:00">
        09 Sep 2014
    </time>
</p>
<p>
<p>Documentation of v2 is available here: <a href="http://wiki.guildwars2.com/wiki/API:2">http://wiki.guildwars2.com/wiki/API:2</a></p>
<blockquote><div class="citey"><cite title="Posted on September 09 2014 06:54AM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4377869">KkIenJuju.9406:</a></cite></div><div class="quotey"><p>Why do you publish an API without basic documentation?</p></div></blockquote>
<p>Because I wasn’t warned early enough.</p></p>

<h2 id="">StevenL.3761:</h2>
<p class="post-meta">
    <time datetime="2014-09-09T12:46:58+00:00">
        09 Sep 2014
    </time>
</p>
<p>
<p>Hmmm… I would expect to be able to do this:</p>
<p>/v2/commerce/exchange?ids=coins<br>
/v2/commerce/exchange?ids=gems<br>
/v2/commerce/exchange?ids=all</p>
<p>Can’t think of why this doesn’t work.</p></p>

<h2 id="">Samuirai.4561:</h2>
<p class="post-meta">
    <time datetime="2014-09-09T13:22:47+00:00">
        09 Sep 2014
    </time>
</p>
<p>
<p>Just check the documentation: <a href="http://wiki.guildwars2.com/wiki/API:2/commerce/exchange">http://wiki.guildwars2.com/wiki/API:2/commerce/exchange</a></p></p>

<h2 id="">StevenL.3761:</h2>
<p class="post-meta">
    <time datetime="2014-09-09T13:52:04+00:00">
        09 Sep 2014
    </time>
</p>
<p>
<p>Yeah but why does it not accept parameters? Nothing in the documentation (the official pages or the pages written by Poke) explains the <em>why</em>.</p>
<p>In fact, the official page explicitly states that it should work.</p>
<blockquote><div class="quotey"><p>All APIs offer bulk expansion.</p></div></blockquote></p>

<h2 id="">Ol Nicodemus.8104:</h2>
<p class="post-meta">
    <time datetime="2014-09-11T14:51:08+00:00">
        11 Sep 2014
    </time>
</p>
<p>
<p>Has anyone actually worked on this? I’m not a programmer or someone who understands a majority of code (I’ve gone and learned a bit from Codecademy about 35% through JavaScript and attempted the first section of the YouTube API), but I was able to modify someone else’s gw2spidy script for my google sheet in order to generate the information I wanted. Is this going to work in the same way where it can work with google sheets, and if so, can I just substitute information (such as the website it pulls from) in order to make my current  spreadsheet work?</p>
<p>Also, would someone tell me where I can get a list of which Item IDs correlate to which Items? I just want to quickly look up an Item and see it’s Item ID in order to plug that information into my spreadsheet when it becomes available for use.</p></p>

<h2 id="">smiley.1438:</h2>
<p class="post-meta">
    <time datetime="2014-09-11T16:12:31+00:00">
        11 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 11 2014 02:51PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4396813">Ol Nicodemus.8104:</a></cite></div><div class="quotey"><p>Also, would someone tell me where I can get a list of which Item IDs correlate to which Items? I just want to quickly look up an Item and see it’s Item ID in order to plug that information into my spreadsheet when it becomes available for use.</p></div></blockquote>
<p>Try this one: <a href="http://gw2wbot.darthmaim.de/smiley/">http://gw2wbot.darthmaim.de/smiley/</a></p></p>

<h2 id="">Stephane Lo Presti.7258:</h2>
<p class="post-meta">
    <time datetime="2014-09-11T18:20:33+00:00">
        11 Sep 2014
    </time>
</p>
<p>
<p>Here’s a quick update about this API: the /v2/commerce/prices is now enabled and you can find documentation about it on the wiki: <a href="http://wiki.guildwars2.com/wiki/API:2/commerce/prices">http://wiki.guildwars2.com/wiki/API:2/commerce/prices</a></p></p>

<h2 id="">StevenL.3761:</h2>
<p class="post-meta">
    <time datetime="2014-09-11T18:36:17+00:00">
        11 Sep 2014
    </time>
</p>
<p>
<p>Yes! YES! Thanks.<img src="/include/images/smilies/smile.png"></p></p>

<h2 id="">Nabrok.9023:</h2>
<p class="post-meta">
    <time datetime="2014-09-11T19:46:17+00:00">
        11 Sep 2014
    </time>
</p>
<p>
<p>Any news on when the rest of v2 might become available?</p></p>

<h2 id="">Sir Vincent III.1286:</h2>
<p class="post-meta">
    <time datetime="2014-09-11T22:56:46+00:00">
        11 Sep 2014
    </time>
</p>
<p>
<p>Are the result from,</p>
<p><a href="https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100">https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100</a></p>
<p>live values (same values we can see in game) and not a delayed value like from <a href="http://www.gw2spidy.com/api/v0.9/json/gem-price">GW2Spidy</a>?</p></p>

<h2 id="">smiley.1438:</h2>
<p class="post-meta">
    <time datetime="2014-09-11T23:01:55+00:00">
        11 Sep 2014
    </time>
</p>
<p>
<p>I case these APIs work like the previous ones, these are most likely live values.</p></p>

<h2 id="">Sir Vincent III.1286:</h2>
<p class="post-meta">
    <time datetime="2014-09-12T19:59:39+00:00">
        12 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 11 2014 11:01PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4399793">smiley.1438:</a></cite></div><div class="quotey"><p>I case these APIs work like the previous ones, these are most likely live values.</p></div></blockquote>
<p>Thanks. I ran the value last night and match it with in-game value, they are the same.</p>
<p>This API is very helpful.</p></p>

<h2 id="">Stephane Lo Presti.7258:</h2>
<p class="post-meta">
    <time datetime="2014-09-12T22:25:15+00:00">
        12 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 11 2014 10:56PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4399771">Sir Vincent III.1286:</a></cite></div><div class="quotey"><p>Are the result from,</p>
<p><a href="https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100">https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100</a></p>
<p>live values (same values we can see in game) and not a delayed value like from <a href="http://www.gw2spidy.com/api/v0.9/json/gem-price">GW2Spidy</a>?</p></div></blockquote>
<p>They are live values (with 60 seconds of caching) for all APIs except the /v2/commerce/prices one, which is cached for  about 5 minutes.</p></p>

<h2 id="">MentalFS.2589:</h2>
<p class="post-meta">
    <time datetime="2014-09-13T07:03:03+00:00">
        13 Sep 2014
    </time>
</p>
<p>
<p>I’m very thankful for the new API. Since the values are already cached, could it be possible to enable the <em>all</em> keyword for the prices API? That would be extra sprinkles on top.</p></p>

<h2 id="">StevenL.3761:</h2>
<p class="post-meta">
    <time datetime="2014-09-13T10:21:51+00:00">
        13 Sep 2014
    </time>
</p>
<p>
<p>@MentalFS</p>
<p>I think you can get better performance if you run multiple queries (for 200 ids each) in parallel. The ids=all would take too long to complete for a client application to just sit there and wait for the data to return.</p></p>

<h2 id="">Gewd.8125:</h2>
<p class="post-meta">
    <time datetime="2014-09-13T19:24:16+00:00">
        13 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 12 2014 10:25PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4405211">Stephane Lo Presti.7258:</a></cite></div><div class="quotey"><blockquote><div class="citey"><cite title="Posted on September 11 2014 10:56PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4399771">Sir Vincent III.1286:</a></cite></div><div class="quotey"><p>Are the result from,</p>
<p><a href="https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100">https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100</a></p>
<p>live values (same values we can see in game) and not a delayed value like from <a href="http://www.gw2spidy.com/api/v0.9/json/gem-price">GW2Spidy</a>?</p></div></blockquote>
<p>They are live values (with 60 seconds of caching) for all APIs except the /v2/commerce/prices one, which is cached for  about 5 minutes.</p></div></blockquote>
<p>Can you reduce the cache time for prices? If the cache time for prices is so long then people will switch back to commerce/listings which probably puts more load on the server.</p></p>

<h2 id="">Sir Vincent III.1286:</h2>
<p class="post-meta">
    <time datetime="2014-09-15T17:51:43+00:00">
        15 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 13 2014 07:24PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4408754">Gewd.8125:</a></cite></div><div class="quotey"><blockquote><div class="citey"><cite title="Posted on September 12 2014 10:25PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4405211">Stephane Lo Presti.7258:</a></cite></div><div class="quotey"><blockquote><div class="citey"><cite title="Posted on September 11 2014 10:56PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4399771">Sir Vincent III.1286:</a></cite></div><div class="quotey"><p>Are the result from,</p>
<p><a href="https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100">https://api.guildwars2.com/v2/commerce/exchange/gems?quantity=100</a></p>
<p>live values (same values we can see in game) and not a delayed value like from <a href="http://www.gw2spidy.com/api/v0.9/json/gem-price">GW2Spidy</a>?</p></div></blockquote>
<p>They are live values (with 60 seconds of caching) for all APIs except the /v2/commerce/prices one, which is cached for  about 5 minutes.</p></div></blockquote>
<p>Can you reduce the cache time for prices? If the cache time for prices is so long then people will switch back to commerce/listings which probably puts more load on the server.</p></div></blockquote>
<p>It seems that the commerce/prices adds the quantity and selects the current price on the server side, meaning processing time = server load — commerce/listing is seems to be posting values straight from the auction house listing without any added processing, thus much less server load.</p>
<p>You can always parse the values from commerce/listing on the client side to make it look like the values you get from commerce/prices.</p></p>

<h2 id="">Pat Cavit.9234:</h2>
<p class="post-meta">
    <time datetime="2014-09-15T18:32:30+00:00">
        15 Sep 2014
    </time>
</p>
<p>
<p>/v2/commerce/prices is what we show in search results on the TP and totally usable for places where absolutely up-to-the-minute data isn’t necessary.</p>
<p>/v2/commerce/listings is closer to being live data, but is also more expensive for us to retrieve. It may end up getting a longer cache time on it to avoid problems on the backend.</p></p>

<h2 id="">lawfan.7095:</h2>
<p class="post-meta">
    <time datetime="2014-09-15T23:20:54+00:00">
        15 Sep 2014
    </time>
</p>
<p>
<p>All I see is a page full of random numbers on first link and a blank page for second.</p></p>

<h2 id="">smiley.1438:</h2>
<p class="post-meta">
    <time datetime="2014-09-16T00:36:40+00:00">
        16 Sep 2014
    </time>
</p>
<p>
<p>And this is totally ok, here’s explained what this means: <a href="http://wiki.guildwars2.com/wiki/API:2">http://wiki.guildwars2.com/wiki/API:2</a></p></p>

<h2 id="">Gewd.8125:</h2>
<p class="post-meta">
    <time datetime="2014-09-16T00:39:36+00:00">
        16 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 15 2014 06:32PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4415325">Pat Cavit.9234:</a></cite></div><div class="quotey"><p>/v2/commerce/prices is what we show in search results on the TP and totally usable for places where absolutely up-to-the-minute data isn’t necessary.</p>
<p>/v2/commerce/listings is closer to being live data, but is also more expensive for us to retrieve. It may end up getting a longer cache time on it to avoid problems on the backend.</p></div></blockquote>
<p>I have a TP website and we use commerce/prices to update all the items.</p>
<p>I realize that they can’t be live, but going from 1 minute to 5 minutes is a huge difference when prices can change very quickly.</p>
<p>If it is stuck at 5 minutes, then I would switch back to using commerce/listings which seems to put a heavier load on the server as it takes longer to complete.</p></p>

<h2 id="">Pat Cavit.9234:</h2>
<p class="post-meta">
    <time datetime="2014-09-16T05:16:18+00:00">
        16 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 16 2014 12:39AM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4416474">Gewd.8125:</a></cite></div><div class="quotey"><blockquote><div class="citey"><cite title="Posted on September 15 2014 06:32PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4415325">Pat Cavit.9234:</a></cite></div><div class="quotey"><p>/v2/commerce/prices is what we show in search results on the TP and totally usable for places where absolutely up-to-the-minute data isn’t necessary.</p>
<p>/v2/commerce/listings is closer to being live data, but is also more expensive for us to retrieve. It may end up getting a longer cache time on it to avoid problems on the backend.</p></div></blockquote>
<p>I have a TP website and we use commerce/prices to update all the items.</p>
<p>I realize that they can’t be live, but going from 1 minute to 5 minutes is a huge difference when prices can change very quickly.</p>
<p>If it is stuck at 5 minutes, then I would switch back to using commerce/listings which seems to put a heavier load on the server as it takes longer to complete.</p></div></blockquote>
<p>The cache times on those two APIs come from different places. /v2/commerce/listings I control, /v2/commerce/prices I do not.</p>
<p>That said, if /v2/commerce/listings starts stressing the commerce systems too much we’ll increase the cache time on the API frontends. Live data’s no good if folks are taking down the commerce servers to get it!</p>
<p>Try to use the right API for the data you need, basically.<img src="/include/images/smilies/smile.png"></p></p>

<h2 id="">Wolf Fivousix.4319:</h2>
<p class="post-meta">
    <time datetime="2014-09-17T07:22:02+00:00">
        17 Sep 2014
    </time>
</p>
<p>
<p>Dear Pat,</p>
<p>Does the BL inside the game use either listings or prices? You just made me think that, if the results are cached, then the data we see in-game isn’t live? Or does it use other mechanism unavailable to the API to be live?</p>
<p>Thank you.</p></p>

<h2 id="">Mystic.5934:</h2>
<p class="post-meta">
    <time datetime="2014-09-17T16:50:04+00:00">
        17 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 17 2014 07:22AM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4420924">Wolf Fivousix.4319:</a></cite></div><div class="quotey"><p>Dear Pat,</p>
<p>Does the BL inside the game use either listings or prices? You just made me think that, if the results are cached, then the data we see in-game isn’t live? Or does it use other mechanism unavailable to the API to be live?</p>
<p>Thank you.</p></div></blockquote>
<p>both.  See Pat’s post above:</p>
<blockquote><div class="citey"><cite title="Posted on September 15 2014 06:32PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4415325">Pat Cavit.9234:</a></cite></div><div class="quotey"><p>/v2/commerce/prices is what we show in search results on the TP and totally usable for places where absolutely up-to-the-minute data isn’t necessary.</p>
<p>/v2/commerce/listings is closer to being live data, but is also more expensive for us to retrieve. It may end up getting a longer cache time on it to avoid problems on the backend.</p></div></blockquote>
<p>Basically, if you search for ‘ore’, the prices you see on the list of results: mithril ore, iron ore, copper ore, etc. are the cached prices (prices).  If you click on mithril ore, the individual prices you see such as “242 ordered at 30c, 500 ordered at 29c, …” are the non-cached prices (listings)<br>
you may remember a bug a couple months ago where newest items showed a lot higher price than they were?  like you would search for the item, it would say it sells for 20g, you’d click on it, and all the buy orders were for 30s.  That was because the cache wasn’t being updated with the new prices.</p></p>

<h2 id="">Pat Cavit.9234:</h2>
<p class="post-meta">
    <time datetime="2014-09-17T19:20:38+00:00">
        17 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 17 2014 07:22AM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4420924">Wolf Fivousix.4319:</a></cite></div><div class="quotey"><p>Does the BL inside the game use either listings or prices? You just made me think that, if the results are cached, then the data we see in-game isn’t live? Or does it use other mechanism unavailable to the API to be live?</p></div></blockquote>
<p>The TP uses the same backend APIs that both /v2/commerce/listings &amp; /v2/commerce/prices uses. It doesn’t go through the public API layer though.</p>
<p>/v2/commerce/prices has a caching layer on the backend API, so the TP is getting identical values to the public API.</p>
<p>/v2/commerce/listings is cached on the Public API layer (currently for 1 minute) because the public API gets hammered much harder than the in-game TP. This is mostly due to folks spidering for the entire state of the market every few minutes, which no user would ever be able to do from within the game.</p></p>

<h2 id="">Wolf Fivousix.4319:</h2>
<p class="post-meta">
    <time datetime="2014-09-17T21:04:46+00:00">
        17 Sep 2014
    </time>
</p>
<p>
<p>Dear Mystic and Pat,</p>
<p>Thank you very much for your help, now I understand how it works and I’ll be sure to use the right API data for my needs.</p></p>

<h2 id="">Mystic.5934:</h2>
<p class="post-meta">
    <time datetime="2014-09-18T17:04:18+00:00">
        18 Sep 2014
    </time>
</p>
<p>
<p>Pat, is it possible to provide a bulk prices page that only includes items that have changed their price in the last ~1-10minutes?<br>
I was playing around with it a bit and settled on using:<br>
<a href="https://api.guildwars2.com/v2/commerce/prices?page=0&page_size=200">https://api.guildwars2.com/v2/commerce/prices?page=0&amp;page_size=200</a><br>
I first check if the buy and sell prices have changed before updating my numbers, and it seemed like more than 80% of the items’ prices don’t change very often (at least several minutes, I didn’t test it thoroughly).<br>
It might be worth it to cache a list of items who’s price has changed in the last 60 seconds and offer that to people.  by ‘worth it’, I mean they wouldn’t then need to get the price for every item all the time.</p></p>

<h2 id="">Sir Vincent III.1286:</h2>
<p class="post-meta">
    <time datetime="2014-09-18T17:19:37+00:00">
        18 Sep 2014
    </time>
</p>
<p>
<blockquote><div class="citey"><cite title="Posted on September 17 2014 07:20PM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4422719">Pat Cavit.9234:</a></cite></div><div class="quotey"><blockquote><div class="citey"><cite title="Posted on September 17 2014 07:22AM"><a href="/forum/community/api/The-Commerce-APIs-are-now-live/4420924">Wolf Fivousix.4319:</a></cite></div><div class="quotey"><p>Does the BL inside the game use either listings or prices? You just made me think that, if the results are cached, then the data we see in-game isn’t live? Or does it use other mechanism unavailable to the API to be live?</p></div></blockquote>
<p>The TP uses the same backend APIs that both /v2/commerce/listings &amp; /v2/commerce/prices uses. It doesn’t go through the public API layer though.</p>
<p>/v2/commerce/prices has a caching layer on the backend API, so the TP is getting identical values to the public API.</p>
<p>/v2/commerce/listings is cached on the Public API layer (currently for 1 minute) because the public API gets hammered much harder than the in-game TP. This is mostly due to folks spidering for the entire state of the market every few minutes, which no user would ever be able to do from within the game.</p></div></blockquote>
<p>I still don’t see why use /prices over /listings if /listing has the closest to accurate pricing. You can generally build your own prices on client side using /listings’ result plus /listings has more data than /prices — and probably the main reason why it’s getting hammered.</p></p>

<h2 id="">StevenL.3761:</h2>
<p class="post-meta">
    <time datetime="2014-09-18T17:27:09+00:00">
        18 Sep 2014
    </time>
</p>
<p>
<p>/prices is more useful for viewing by humans. You have to consider that people have a reading speed of just a few bytes per second (at 1 byte per character for UTF-8 encoded text). So live data is no longer live data by the time they reach the bottom of the page.</p></p>

<h2 id="">Mystic.5934:</h2>
<p class="post-meta">
    <time datetime="2014-09-18T18:35:16+00:00">
        18 Sep 2014
    </time>
</p>
<p>
<p>/listings can return several pages of text.<br>
/prices returns one line.<br>
/listings takes longer and uses more resources, especially if all you’re after is the highest bid and lowest sell.</p></p>

<h2 id="">Pat Cavit.9234:</h2>
<p class="post-meta">
    <time datetime="2014-09-18T21:23:31+00:00">
        18 Sep 2014
    </time>
</p>
<p>
<p>Most use-cases for the data in /prices don’t <strong>actually</strong> require the freshest data in the world. You can get it from /listings in that case if you do need data with a lower cache time, with the caveat that if it gets abused we’ll need to up the cache time on /listings until it isn’t much fresher than /prices.</p></p>


  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">GW2 Developers</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              GW2 Developers
            
            </li>
            
            <li><a href="mailto:gw2developers@darthmaim.de">gw2developers@darthmaim.de</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/gw2developers"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">gw2developers</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/gw2api"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">gw2api</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Learn how to use the GW2 API.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
