{"title":"Can't access transactions/history","pubDate":"2016-02-22T13:43:59.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Can-t-access-transactions-history","comments":[{"pubDate":"2016-02-24T17:51:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Can-t-access-transactions-history/6003415","author":"atalexsutter.9360","body":"\n<p>Ah, okay, great! Thanks alot<img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2016-02-24T15:11:46.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Can-t-access-transactions-history/6003027","author":"Lawton Campbell.8517","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on February 24 2016 10:18AM\"><a href=\"/forum/community/api/Can-t-access-transactions-history/6002561\">atalexsutter.9360:</a></cite></div><div class=\"quotey\"><p>Do you know how high can these numbers get?<img src=\"/include/images/smilies/wink.png\"></p></div></blockquote>\n<p>In the database they’re stored as a bigint (maximum 2^63), but since we’re serializing to JSON the API will break after they exceed 2^52 (because JSON encodes numbers as <a href=\"https://en.wikipedia.org/wiki/IEEE_floating_point\">IEEE 754 doubles</a>, that’s the maximum integer that can be exactly represented). So storing them as a 64-bit integer on your side should be safe.</p>","arenanet":true},{"pubDate":"2016-02-24T10:18:08.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Can-t-access-transactions-history/6002561","author":"atalexsutter.9360","body":"\n<p>I tried to fix the problem with writing my own deserializer and stuff… Didn’t work…</p>\n<p>Was thinking way to complicated<img src=\"/include/images/smilies/smile.png\"><br>\nThe only problem was that the ‘id’ the /history/buys returns doesn’t fit into a normal (32bit) int. Sadly RestSharp doesn’t throw an exception, but rather just doesn’t fill the object. Therefore a NullPointer Exception was thrown in my code.</p>\n<p>Do you know how high can these numbers get?<img src=\"/include/images/smilies/wink.png\"></p>\n<p>Thanks a lot for your help!</p>","arenanet":false},{"pubDate":"2016-02-22T18:33:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Can-t-access-transactions-history/5999032","author":"Lawton Campbell.8517","body":"\n<p>Just to verify, if you fetch the URL that doesn’t work (with access token, etc) with a browser does JSON come back?</p>\n<p>I’ve never used RestSharp, so I can’t really help if the issue isn’t with a broken endpoint. I’d imagine the purchased_date field needs to be marked optional or something for the deserializer to work (but that it gives you no exception or error code about a deserialization failure is really weird).</p>","arenanet":true},{"pubDate":"2016-02-22T13:43:59.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Can-t-access-transactions-history/5998581","author":"atalexsutter.9360","body":"\n<p>Hey!</p>\n<p>I’m trying to access /commerce/transactions/history/buys with my C# (+RestSharp) Code.<br>\nWhenever I try to call it I get a object back that is null. However it works fine with /current/.</p>\n<p><a href=\"http://pastebin.com/81WGNBJS\">Pastebin of the code in question</a><br>\nEDIT: I just saw that I pasted the wrong code, of course it should be: “commerce/transactions/history/buys” instead of “commerce/transactions/current/buys” in line 3.</p>\n<p>Like I said with /current/buys (just changing the RestRequest-URL) it works completely fine and I get all my current listing back. Now I’m kinda confused why this souldn’t work, can anyone help me?<br>\nThey look (and are according to the wiki) identical except the ‘purchased_date’, therefore RestSharp should be able to parse them into the same class, right?</p>","arenanet":false}]}