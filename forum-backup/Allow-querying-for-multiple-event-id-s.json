{"title":"Allow querying for multiple event_id's","pubDate":"2013-10-19T19:30:36.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s","comments":[{"pubDate":"2013-11-13T06:49:58.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3195640","author":"sorenrye.7238","body":"\n<p>I have only checked the source of one of the api wrappers. It creates a new connection every time it wants to request information from <a href=\"https://api.guildwars2.com\">https://api.guildwars2.com</a>.</p>\n<p>Until it becomes possible to query for multiple event_id’s (and the like, hopefully) in a single request, does anet support the reuse of the https connection (the tcp socket) for sending multiple requests (keep_alive)? If this is supported, does any of the api wrappers take advantage of this? If so, which api wrapper takes advantage of this?</p>","arenanet":false},{"pubDate":"2013-11-13T05:34:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3195327","author":"DarkSpirit.7046","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on October 28 2013 08:22AM\"><a href=\"/forum/community/api/Allow-querying-for-multiple-event-id-s/3104665\">Lil Puppy.5216:</a></cite></div><div class=\"quotey\"><p>Due to the way URLs are handled by browsers and servers, the acceptable length of a URL is 2083 characters max (thanks to IE). With that amount of character space, you can get a maximum of 54 events at a time using a comma separated list in the URL at a time.<br>\nMost browsers aside from IE will handle up to 64k characters per url, but servers also have limits so it’s usually a good idea to keep them from exceeding 2000 characters total, granting you 52 events at a time.<br>\n</p><pre><code>ex:\nhttps://api.guildwars2.com/v1/events.json?event_ids=6BD7C8B0-2605-4819-9AE6-EF2849098090,\nC876757A-EF3E-4FBE-A484-07FF790D9B05,\n99254BA6-F5AE-4B07-91F1-61A9E7C51A51,\n0464CB9E-1848-4AAA-BA31-4779A959DD71\n</code></pre><p></p>\n<p>base URL length = 52 characters from the h to the =<br>\n-1 because the last item doesn’t need a comma<br>\neach event id and a comma = 37 characters.</p>\n<p>Max:<br>\n2083-53=2030<br>\n2030/37=54.864~</p>\n<p>Average:<br>\n2000-53=1947<br>\n1947/37=52.621~</p></div></blockquote>\n<p>How about spawning a number of threads (or web workers) and breakup the query with each event being queried per thread?</p>","arenanet":false},{"pubDate":"2013-11-12T19:10:58.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3192069","author":"Ruhrpottpatriot.7293","body":"\n<p>Thumbs up for specifying event (and item/recipe) ids in the request body, not just the url.</p>","arenanet":false},{"pubDate":"2013-11-04T11:07:34.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3147616","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on November 04 2013 10:23AM\"><a href=\"/forum/community/api/Allow-querying-for-multiple-event-id-s/3147505\">AdelphiA.9287:</a></cite></div><div class=\"quotey\"><p>You are wasting valuable character space by using the “-”. “C876757AEF3E4FBEA48407FF790D9B05” is the same as “C876757A-EF3E-4FBE-A484-07FF790D9B05”, saving you 4 characters per ID. Not much I know, but over 52 ID’s that’s 208 wasted characters.</p></div></blockquote>\n<p>You’re messing up UUIDs and their respective MD5 hashes. It may be possible to strip the hyphens but don’t know yet if this would be supported by the API.</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Universally_unique_identifier\">http://en.wikipedia.org/wiki/Universally_unique_identifier</a></p>","arenanet":false},{"pubDate":"2013-11-04T10:23:55.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3147505","author":"AdelphiA.9287","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on October 28 2013 08:22AM\"><a href=\"/forum/community/api/Allow-querying-for-multiple-event-id-s/3104665\">Lil Puppy.5216:</a></cite></div><div class=\"quotey\"><p>Due to the way URLs are handled by browsers and servers, the acceptable length of a URL is 2083 characters max (thanks to IE). With that amount of character space, you can get a maximum of 54 events at a time using a comma separated list in the URL at a time.<br>\nMost browsers aside from IE will handle up to 64k characters per url, but servers also have limits so it’s usually a good idea to keep them from exceeding 2000 characters total, granting you 52 events at a time.<br>\n</p><pre><code>ex:\nhttps://api.guildwars2.com/v1/events.json?event_ids=6BD7C8B0-2605-4819-9AE6-EF2849098090,\nC876757A-EF3E-4FBE-A484-07FF790D9B05,\n99254BA6-F5AE-4B07-91F1-61A9E7C51A51,\n0464CB9E-1848-4AAA-BA31-4779A959DD71\n</code></pre><p></p>\n<p>base URL length = 52 characters from the h to the =<br>\n-1 because the last item doesn’t need a comma<br>\neach event id and a comma = 37 characters.</p>\n<p>Max:<br>\n2083-53=2030<br>\n2030/37=54.864~</p>\n<p>Average:<br>\n2000-53=1947<br>\n1947/37=52.621~</p></div></blockquote>\n<p>You are wasting valuable character space by using the “-”. “C876757AEF3E4FBEA48407FF790D9B05” is the same as “C876757A-EF3E-4FBE-A484-07FF790D9B05”, saving you 4 characters per ID. Not much I know, but over 52 ID’s that’s 208 wasted characters.</p>","arenanet":false},{"pubDate":"2013-10-28T23:18:25.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3109068","author":"Stefan Larimore.6872","body":"\n<p>We are looking into some options for bulk access and filtering.  Another option is to optionally allow specifying ids in a POST body.  Though, we probably will have some sort of max id count limit so the URL constraints may not matter.</p>","arenanet":true},{"pubDate":"2013-10-28T08:22:56.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3104665","author":"Lil Puppy.5216","body":"\n<p>Due to the way URLs are handled by browsers and servers, the acceptable length of a URL is 2083 characters max (thanks to IE). With that amount of character space, you can get a maximum of 54 events at a time using a comma separated list in the URL at a time.<br>\nMost browsers aside from IE will handle up to 64k characters per url, but servers also have limits so it’s usually a good idea to keep them from exceeding 2000 characters total, granting you 52 events at a time.<br>\n</p><pre><code>ex:\nhttps://api.guildwars2.com/v1/events.json?event_ids=6BD7C8B0-2605-4819-9AE6-EF2849098090,\nC876757A-EF3E-4FBE-A484-07FF790D9B05,\n99254BA6-F5AE-4B07-91F1-61A9E7C51A51,\n0464CB9E-1848-4AAA-BA31-4779A959DD71\n</code></pre><p></p>\n<p>base URL length = 52 characters from the h to the =<br>\n-1 because the last item doesn’t need a comma<br>\neach event id and a comma = 37 characters.</p>\n<p>Max:<br>\n2083-53=2030<br>\n2030/37=54.864~</p>\n<p>Average:<br>\n2000-53=1947<br>\n1947/37=52.621~</p>","arenanet":false},{"pubDate":"2013-10-25T05:24:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3090449","author":"albus.4273","body":"\n<p>That would be a nice feature to be added to the API. I have compiled a list of all/most daily reward events:<br>\n</p><pre><code>daily_events = [\n\t\"6BD7C8B0-2605-4819-9AE6-EF2849098090\", // \"Defeat Rhendak the Crazed.\"\n\t\"C876757A-EF3E-4FBE-A484-07FF790D9B05\", // \"Kill the megadestroyer before it blows everyone up.\"\n\t\"99254BA6-F5AE-4B07-91F1-61A9E7C51A51\", // \"Cover Keeper Jonez Deadrun as he performs the cleansing ritual.\"\n\t\"0464CB9E-1848-4AAA-BA31-4779A959DD71\", // \"Defeat the Claw of Jormag.\"\n\t\"95CA969B-0CC6-4604-B166-DBCCE125864F\", // \"Defeat the dredge commissar.\"\n\t\"295E8D3B-8823-4960-A627-23E07575ED96\", // \"Defeat the fire shaman and his minions.\"\n\t\"C5972F64-B894-45B4-BC31-2DEEA6B7C033\", // \"Defeat the great jungle wurm.\"\n\t\"9AA133DC-F630-4A0E-BB5D-EE34A2B306C2\", // \"Defeat the Inquest's golem Mark II.\"\n\t\"E1CC6E63-EFFE-4986-A321-95C89EA58C07\", // \"Defeat the Karka Queen threatening the settlements.\"\n\t\"F479B4CF-2E11-457A-B279-90822511B53B\",\n\t\"5282B66A-126F-4DA4-8E9D-0D9802227B6D\",\n\t\"4CF7AA6E-4D84-48A6-A3D1-A91B94CCAD56\",\n\t\"6A6FD312-E75C-4ABF-8EA1-7AE31E469ABA\", // \"Defeat the possessed statue of Dwayna.\"\n\t\"2555EFCB-2927-4589-AB61-1957D9CC70C8\", // \"Defeat the Risen Priest of Balthazar before it can summon a horde of Risen.\"\n\t\"31CEBA08-E44D-472F-81B0-7143D73797F5\", // \"Defeat the shadow behemoth.\"\n\t\"E6872A86-E434-4FC1-B803-89921FF0F6D6\", // \"Defeat Ulgoth the Modniir and his minions.\"\n\t\"A0796EC5-191D-4389-9C09-E48829D1FDB2\", // \"Destroy the Eye of Zhaitan.\"\n\t\"33F76E9E-0BB6-46D0-A3A9-BE4CDFC4A3A4\", // \"Destroy the fire elemental created from chaotic energy fusing with the C.L.E.A.N. 5000's energy core.\"\n\t\"7E24F244-52AF-49D8-A1D7-8A1EE18265E0\", // \"Destroy the Risen Priest of Melandru.\"\n\t\"242BD241-E360-48F1-A8D9-57180E146789\", // \"Kill Admiral Taidha Covington.\"\n\t\"0372874E-59B7-4A8F-B535-2CF57B8E67E4\", // \"Kill the Corrupted High Priestess\"\n\t\"B4E6588F-232C-4F68-9D58-8803D67E564D\", // \"Kill the Foulbear Chieftain and her elite guards before the ogres can rally.\"\n\t\"F7D9D427-5E54-4F12-977A-9809B23FBA99\", // \"Kill the Svanir shaman chief to break his control over the ice elemental.\"\n\t\"03BF176A-D59F-49CA-A311-39FC6F533F2F\", // \"Slay the Shatterer\"\n\t\"568A30CF-8512-462F-9D67-647D69BEFAED\"  // \"Defeat Tequatl the Sunless.\"\n];</code></pre>The results could then be filtered against that list.<br>\n<pre><code>var tmp = [], row;\n// XMLHttpRequest(...);\n\nfor(var i = 0, l = http.events.length; i &lt; l; ++i){\n    row = http.events[i];\n\n    if(daily_events.indexOf(row.event_id) &gt; -1)\n        tmp.push(row);\n}\nhttp.events = tmp;\ndelete tmp;</code></pre><p></p>","arenanet":false},{"pubDate":"2013-10-19T19:30:36.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Allow-querying-for-multiple-event-id-s/3058124","author":"Trollhammer.7439","body":"\n<p>This is for the events.json service. I would like to be able to call it once like this</p>\n<p><a href=\"https://api.guildwars2.com/v1/events.json?event_id=1&event_id=2&event_id=3\">https://api.guildwars2.com/v1/events.json?event_id=1&amp;event_id=2&amp;event_id=3</a>…</p>\n<p>instead of</p>\n<p><a href=\"https://api.guildwars2.com/v1/events.json?event_id=1\">https://api.guildwars2.com/v1/events.json?event_id=1</a><br>\n<a href=\"https://api.guildwars2.com/v1/events.json?event_id=2\">https://api.guildwars2.com/v1/events.json?event_id=2</a><br>\n<a href=\"https://api.guildwars2.com/v1/events.json?event_id=3\">https://api.guildwars2.com/v1/events.json?event_id=3</a><br>\n…</p>\n<p>Alternatively (and perhaps even better) I would like to just filter on events that grant daily chests.</p>\n<p><a href=\"https://api.guildwars2.com/v1/events.json?daily_chest=true\">https://api.guildwars2.com/v1/events.json?daily_chest=true</a></p>","arenanet":false}]}