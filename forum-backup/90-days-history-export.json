{"title":"90+ days history : export ?","pubDate":"2014-04-03T18:26:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export","comments":[{"pubDate":"2014-07-30T18:26:51.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/4251405","author":"Eowin Of Rohan.2619","body":"\n<p>Hi,</p>\n<p>I tried to export again today, but it seems like Anet has added to security that prevents getting the data from an out-of-game browser.<br>\nIs there anything I can do to export my history before it gets eaten by that rolling 3-months limit ? (I probably already lost 1 month of history T_T)</p>\n<p>Thanks,</p>\n<p>Eowyn</p>","arenanet":false},{"pubDate":"2014-04-05T22:35:06.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3861588","author":"Ryan.9387","body":"\n<p>Well I take back my words on both statements.. :/</p>\n<p>Ps – gl with your events api.</p>","arenanet":false},{"pubDate":"2014-04-05T04:55:25.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3859484","author":"Healix.5819","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on April 04 2014 04:42PM\"><a href=\"/forum/community/api/90-days-history-export/3857468\">Ryan.9387:</a></cite></div><div class=\"quotey\"><p>I’m pretty sure you can call count=0 and then you will get a thing which shows the current number of orders. Then call count=that number to get a bloated chunk of json text. At least that is how it works for checking buy/sell orders.</p></div></blockquote>\n<p>That works when searching listings, but your history is limited to 100 at a time, regardless of what count you put.</p>","arenanet":false},{"pubDate":"2014-04-04T22:01:04.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3858710","author":"Eowin Of Rohan.2619","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on April 04 2014 04:42PM\"><a href=\"/forum/community/api/90-days-history-export/3857468\">Ryan.9387:</a></cite></div><div class=\"quotey\"><p>To be honest, if you don’t know how to do this already, you probably lack the skills to use the API to get or even use the data returned. That isn’t to be taken meanly though, just that you should have at least a decent level of programming skill to do it.</p></div></blockquote>\n<p>Don’t worry, I’m an IT engineer IRL (sometimles IG too^^ – not IT though). I’m already exploiting the event API for my site gw2events.me (which has a big improvements TODO list that I’ll have to give up because of “megaservers”, until the API is changed for them<img src=\"/include/images/smilies/sad.png\"><img src=\"/include/images/smilies/sad.png\"> ). I think I can handle a few more json files<img src=\"/include/images/smilies/smile.png\">.<br>\nUsing the API and reading json files are very simple things regarding “programming skill”<img src=\"/include/images/smilies/smile.png\"></p>\n<p>edit : I just realized the thread has been moved to the API forum, hence the tech’ answers<img src=\"/include/images/smilies/smile.png\"><br>\nI originally posted in the TP forum because I think that there should be an export function for everyone, since most people who would want to keep their old data will not use API. Two of my solutions were OK for this purpose : “keep data archive and offer an IG button or a guildwars2.com page to access it” and “html export that looks like TP”</p>","arenanet":false},{"pubDate":"2014-04-04T21:53:29.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3858689","author":"Eowin Of Rohan.2619","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on April 04 2014 09:03AM\"><a href=\"/forum/community/api/90-days-history-export/3856008\">Healix.5819:</a></cite></div><div class=\"quotey\"><p><strong>Tutorial</strong></p></div></blockquote>\n<p>Niiiiiiice !</p>\n<p>Exactly what I needed :-)</p>\n<p>I’ve exported my full buy/sell history for my 2  accounts !<br>\nAnd there is so much detail, I can do whatever I want with the data : load in a database with the use of items API (since the item api ID is there, create an html that looks like the ingame list (since there is even the icon link!).</p>\n<p>TYVM</p>","arenanet":false},{"pubDate":"2014-04-04T16:42:51.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3857468","author":"Ryan.9387","body":"\n<p>I’m pretty sure you can call count=0 and then you will get a thing which shows the current number of orders. Then call count=that number to get a bloated chunk of json text. At least that is how it works for checking buy/sell orders.</p>\n<p>To be honest, if you don’t know how to do this already, you probably lack the skills to use the API to get or even use the data returned. That isn’t to be taken meanly though, just that you should have at least a decent level of programming skill to do it.</p>","arenanet":false},{"pubDate":"2014-04-04T09:03:32.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3856008","author":"Healix.5819","body":"\n<p><strong>Tutorial</strong></p>\n<p>How to pull your complete bought or sold history. Instead of making a single click app to do it, here’s how to do it through your web browser.</p>\n<p><strong>1. Obtain your in-game session key</strong></p>\n<p>With the game running, open the trading post. Once open, press <strong>CTRL+SHIFT+ESC</strong> to bring up the <strong>Windows Task Manager</strong>. Under the processes tab, look for the process <strong>awesomium_process.exe</strong>. This will only appear while the trading post is open.</p>\n<p>Once located, right click and select <strong>Open File Location</strong> to open the folder in Windows Explorer. Within the gw2cache folder that was just opened, there should be a data folder and within that, a Cookies file. Open <strong>Cookies</strong> using notepad.</p>\n<p>Search the <strong>Cookies</strong> file for the following: <strong>tradingpost-live.ncplatform.nets</strong></p>\n<p>There should be a series of number and letters with dashes, which ends with a /. That is the session key that you want to make a copy of.</p>\n<p>For example:</p>\n<p>tradingpost-live.ncplatform.netsXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/</p>\n<p>Your key is: <strong>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</strong></p>\n<p><strong>2. Accessing the trading post</strong></p>\n<p>Depending on what web browser you use (IE, FireFox, Chrome), you may encounter minor differences, but they should all work. For this example, I used FireFox.</p>\n<p>Open your web browser and go to <strong><a href=\"https://tradingpost-live.ncplatform.net\">https://tradingpost-live.ncplatform.net</a></strong></p>\n<p>It should display ERROR: Invalid Authorization.</p>\n<p>Press F12 to open the web console. You want to find the input section of the console, which is usually noted by a textbox containing “&gt;” and/or a run button.</p>\n<p>You will need your session key from before. In the console, input the following, using your own session key:</p>\n<blockquote><div class=\"quotey\"><pre><code>\ndocument.cookie=\"s=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n\n</code></pre></div></blockquote>\n<p>Refresh the webpage and you should now see the trading post.</p>\n<p><strong>3. Accessing your history</strong></p>\n<p>There are two types, “buy” and “sell”<br>\nThere are two times, “now” and “past”</p>\n<p>The following url will display 100 item’s that you have bought:</p>\n<p><a href=\"https://tradingpost-live.ncplatform.net/ws/me.json?time=past&type=buy&offset=1&count=100\">https://tradingpost-live.ncplatform.net/ws/me.json?time=past&amp;type=buy&amp;offset=1&amp;count=100</a></p>\n<p>Only 100 items will be displayed at a time. To view them all, you must increment the offset until you reach the total amount.</p>\n<p>Instead of doing it manually, go back to the web console and input the following code:</p>\n<blockquote><div class=\"quotey\"><pre><code>\nvar listings = [];\n\nvar doRequest = function(type,offset)\n{\n listings = [];\n\n var _doRequest = function(type, offset)\n {\n  var xmlhttp=new XMLHttpRequest();\n\n  xmlhttp.onreadystatechange=function()\n  {\n   if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n   {\n    var e = JSON.parse(xmlhttp.responseText);\n\n    listings = listings.concat(e.listings);\n\n    console.log(parseInt(e.args.offset) + e.listings.length + \" of \" + e.total);\n\n    if (e.listings.length == 100)\n    {\n     _doRequest(type, parseInt(e.args.offset) + 100);\n    }\n    else\n    {\n     document.body.innerHTML = JSON.stringify(listings);\n    }\n   }\n  }\n\n  xmlhttp.open(\"GET\",\"https://tradingpost-live.ncplatform.net/ws/me.json?time=past&amp;type=\"+type+\"&amp;offset=\"+offset+\"&amp;count=100\",true);\n  xmlhttp.send();\n }\n _doRequest(type, offset);\n}\n\n</code></pre></div></blockquote>\n<p>Once inputted, run the following to iterate through all bought items:</p>\n<blockquote><div class=\"quotey\"><pre><code>\ndoRequest(\"buy\",1)\n\n</code></pre></div></blockquote>\n<p>… or all sold items:</p>\n<blockquote><div class=\"quotey\"><pre><code>\ndoRequest(\"sell\",1)\n\n</code></pre></div></blockquote>\n<p>After running one of the above, it will display the result in JSON format as the webpage. Copy the text to notepad and save it, or do whatever you want with it.</p>","arenanet":false},{"pubDate":"2014-04-04T08:43:09.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3855961","author":"DavidSev.6978","body":"\n<p>Just because it’s not going to be available to us, doesn’t mean it’s not going to be available to them.</p>\n<p>There’s no way they are going to delete that much valuable info about the markets, which means there’s the possibility of us regaining access to it in some form in the future.</p>\n<p>Technically there’s nothing to stop them having an API that gives us access, or an export button somewheres, although I very much doubt they will.</p>","arenanet":false},{"pubDate":"2014-04-04T07:17:02.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3855785","author":"Healix.5819","body":"\n<p>“If you want to look further back into your transaction history, you’ll need to do so in the next two weeks!”</p>\n<p>That sounds like the data will be deleted. They could archive it, but I doubt they would because of a minority.</p>\n<p>If you want to simply save your history now though, you can do so by accessing the TP API using your in-game information.</p>","arenanet":false},{"pubDate":"2014-04-03T18:42:12.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3853423","author":"Alcarin.9024","body":"\n<p>The fact that you can view only transactions of the last 90 days doesn’t mean that the old data will be lost.<br>\nTo be able to export your data are needed TP API and OAuth2, so I don’t think it will be possible soon.<br>\nI really hope that old transaction will not be deleted, so once OAuth will be released, old transactions can be gathered trough TP API.</p>","arenanet":false},{"pubDate":"2014-04-03T18:26:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/90-days-history-export/3853337","author":"Eowin Of Rohan.2619","body":"\n<p>Hi,</p>\n<p>The past transactions history is going to be cut at 90 days.<br>\nIt would be nice if Anet provides some way of not losing the data :</p>\n<p>a) export to CSV : item name; quantity; price; date; item_API_id</p>\n<p>b) export to html : table with<br>\n- icon (image link to wiki or API image)<br>\n- name<br>\n- quantity<br>\n- price (with gold/silver/copper colors and icons from wiki or API<br>\n- time</p>\n<p><strong>note</strong> : a and b could either be available only until the history is deleted, or available through ©</p>\n<p>c) don’t actually delete history. Archive it in another database table that would be accessible through using a new ingame button, or from a new page somewhere on guildwars2.com. Archive could also let do (a) or (b) export after the deadline.</p>\n<p>Regards,</p>\n<p>Eowyn</p>\n<p>ps : I’m not even a trader, but I like to see my past transactions</p>","arenanet":false}]}