{"title":"API error with Python 2.7.10; Please help! :D","pubDate":"2015-07-19T02:26:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D","comments":[{"pubDate":"2015-07-19T14:58:06.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5297264","author":"Dash.8027","body":"\n<p>And I accidently my main post. Reworking my script; almost entirely. TY for the help thus far.</p>","arenanet":false},{"pubDate":"2015-07-19T14:21:48.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5297180","author":"Dash.8027","body":"\n<p>Ok, so I found that if I remove the first 3 characters from the returned string, it’ll give me the name of the first guild in the list. I however need to remove the the first 3 from each guildid and have no idea how to go about this.</p>\n<pre><code>\nguildjson = requests.get('https://api.guildwars2.com/v1/guild_details.json?guild_id='+ str(guildid)[3:])\n</code></pre>\n<p>Am I doing this wrong having the .get run the entire string at once? <br>\nI’m not the best of coders obviously; any help would be greatly appreciated. I’ve gone all over google and can’t find an answer I understand.</p>","arenanet":false},{"pubDate":"2015-07-19T13:48:04.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5297113","author":"zeeZ.5713","body":"\n<p>You look at the data to see why it doesn’t contain the key it should contain, figure out if you a) did something wrong and fix it, or b) data without that key can be a valid result and determine how you want to handle those cases.</p>\n<p>If you don’t know what’s going on, add more logging. And then some more. Up to the point where you might as well just step through the debugger. And then do that.</p>","arenanet":false},{"pubDate":"2015-07-19T13:13:53.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5297038","author":"Dash.8027","body":"\n<pre><code>\nguildjson = requests.get('https://api.guildwars2.com/v1/guild_details.json?guild_id='+ str(guildid)) \nguilddata = guildjson.json()\nguildname = guilddata['guild_name'] \n</code></pre>\n<p>Traceback (most recent call last):<br>\n  File “D:/guild.py”, line 13, in &lt;module&gt;<br>\n    guildname = guilddata[‘guild_name’] #account guild information<br>\nKeyError: ‘guild_name’</p>\n<p>This returns a KeyError. :/ At this point I don’t know what to do to fix it.</p>","arenanet":false},{"pubDate":"2015-07-19T09:59:34.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5296701","author":"zeeZ.5713","body":"\n<p>You’re doing<br>\n</p><pre><code>\n        accountjson = requests.get('https://api.guildwars2.com/v2/account?access_token=', headers = head) \n        accountdata = accountjson.json()\n        accountname = accountdata['name']\n</code></pre><p></p>\n<p>but for guilds you’re doing<br>\n</p><pre><code>\n        guilddata = requests.get('https://api.guildwars2.com/v1/guild_details.json?guild_id='+ str(guildid)) \n        guildname = guilddata['guild_name']\n</code></pre><p></p>\n<p>which is why you’re getting<br>\n</p><pre><code>\nTraceback (most recent call last):\nFile “D:\\guild.py”, line 11, in &amp;lt;module&amp;gt;\nguildname = guilddata[‘guild_name’] #account guild information\nTypeError: ‘Response’ object has no attribute ‘getitem’\n</code></pre><p></p>","arenanet":false},{"pubDate":"2015-07-19T06:36:32.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5296393","author":"Dash.8027","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on July 19 2015 06:21AM\"><a href=\"/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5296367\">Eearslya.6309:</a></cite></div><div class=\"quotey\"><p>I don’t know much about Python, but one thing that I notice right away is that you’re trying to use both the <strong>access_token</strong> parameter and a header. You only need one or the other; the page may be failing to load because of this.</p></div></blockquote>\n<p>If I comment out line lines 10 and 11, it returns the Account Names and Guild IDs, I think the problem is with the array and being challenged for  the Guild ID to Guild Name conversation. I have no idea how to make it parse the array and return each guild in another method.</p>\n<p>I’m looking for :</p>\n<p>Player.1234 – Guild 1 – Guild 2 – Guild 3 – Guild 4 – Guild 5<br>\nPlayer.3456 – Guild 1 – Guild 2 – Guild 3 – Guild 4 – Guild 5<br>\nect.</p>\n<p>Right now I’m getting by commenting out lines 10/11 :</p>\n<p>Player.1234 [u’5CAD86D7-7A62-4A31-970B-4DFCD0032D27’, u’9BC2F0EE-4D8C-E311-863C-E4115BDF481D’]<br>\nEct.</p>","arenanet":false},{"pubDate":"2015-07-19T06:21:09.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-error-with-Python-2-7-10-Please-help-D/5296367","author":"Eearslya.6309","body":"\n<p>I don’t know much about Python, but one thing that I notice right away is that you’re trying to use both the <strong>access_token</strong> parameter and a header. You only need one or the other; the page may be failing to load because of this.</p>","arenanet":false}]}