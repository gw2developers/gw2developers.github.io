{"title":"Upper limit for bulk requests","pubDate":"2014-09-10T19:28:50.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests","comments":[{"pubDate":"2014-09-13T00:02:25.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4405583","author":"StevenL.3761","body":"\n<p>“id list too long; this endpoint is limited to 200 ids at once”</p>\n<p>Looks okay to me.</p>","arenanet":false},{"pubDate":"2014-09-12T23:43:36.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4405508","author":"Pat Cavit.9234","body":"\n<p>This was deployed a few days ago, would love to know if the bug’s still happening.</p>","arenanet":true},{"pubDate":"2014-09-11T21:23:03.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4399251","author":"Alcarin.9024","body":"\n<p>Thank you for the info Stephane!</p>","arenanet":false},{"pubDate":"2014-09-11T18:21:53.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4398164","author":"Stephane Lo Presti.7258","body":"\n<p>Hi,</p>\n<p>We aware of the bug for Item IDs greater than 200 and have a fix which will be pushed in a future patch.</p>\n<p>Thanks for reporting this to us.</p>","arenanet":true},{"pubDate":"2014-09-11T07:10:42.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4394939","author":"StevenL.3761","body":"\n<p>So I guess I’ll implement an artificial limit of 200 identifiers in my code. Otherwise, I get problems where the API crashes and returns plain html when the URL becomes too big.</p>","arenanet":false},{"pubDate":"2014-09-10T23:41:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4392745","author":"Alcarin.9024","body":"\n<p>Number of ids are limited by the URL length, so the response cannot return more than about 500 items assuming ids of 2 or 3 characters, or about 320 with ids of 5 characters (if I’m correct, most of the items have ids with 5 characters). So it’s not needed to limit the amount of items in order to avoid long DB query.<br>\nOn the other hand, using pagination could very easily cause long query if the number of object per page are too much, so a check to limit the amount of items per page is needed.<br>\nThis decision make sense to me. Especially if items returned with pagination have some sort of ordering.<br>\nThe only thing that could be “strange” is the difference between 200 items with pagination, and the 300 items with ids. But probably the only reason why this seems strange to us, it’s that we don’t know DB structure.</p>","arenanet":false},{"pubDate":"2014-09-10T22:27:47.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4392141","author":"StevenL.3761","body":"\n<p>The same limit does not apply to “ids” requests. I can request over 200 identifiers just fine. So it seems that there is no limit. Strange…</p>","arenanet":false},{"pubDate":"2014-09-10T21:10:14.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4391465","author":"darthmaim.6017","body":"\n<p>Using a too large page_size will return the max amount of objects returned by the api in the error message, for example <a href=\"https://api.guildwars2.com/v2/commerce/listings?page=0&page_size=1000\">https://api.guildwars2.com/v2/commerce/listings?page=0&amp;page_size=1000</a> returns 200</p>","arenanet":false},{"pubDate":"2014-09-10T20:51:31.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4391320","author":"Alcarin.9024","body":"\n<p>Max URL length is about 2000 characters (not technically 2000, but it’s better to use this as max), so it can contain at maximum about 324 item_id assuming that each item_id is 5 character length.</p>\n<div class=\"spoiler_container\"><div class=\"spoileroncontainer\"><button type=\"button\" class=\"button spoileron\" title=\"Click to show the spoiler.\">Show Spoiler</button></div><div class=\"spoiler\"><div class=\"spoileroffcontainer\"><button type=\"button\" class=\"button spoileroff\" title=\"Click to hide the spoiler.\">hide spoiler</button><br></div><div class=\"spoilertext\"><p>“<a href=\"https://api.guildwars2.com/v2/commerce/listings?ids\">https://api.guildwars2.com/v2/commerce/listings?ids</a>=” is 52 character length;<br>\nitem_id is maximum 5 character length + 1 comma to separate items;<br>\n(2000-52)/6=324.83</p></div></div></div><p>I’ve not done any test yet, but if GW2 APIv2 have no limit, you should consider to limit number of item_id to 320 per request to be sure to not get any errors.</p>","arenanet":false},{"pubDate":"2014-09-10T19:28:50.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Upper-limit-for-bulk-requests/4390583","author":"StevenL.3761","body":"\n<p>Not all /v2 endpoints support the “ids=all” identifier, but there doesn’t seem to actually be a limit on the number of identifiers that you are allowed to request in a single HTTP GET? I’ve noticed that it does break when the URL reaches some length. I’m not sure what’s up with that.</p>","arenanet":false}]}