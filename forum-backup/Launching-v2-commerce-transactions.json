{"title":"Launching /v2/commerce/transactions","pubDate":"2015-05-12T22:08:06.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions","comments":[{"pubDate":"2015-10-03T09:05:20.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5563533","author":"Devilsown.9376","body":"\n<p>Ups, I’d forgotten that thing with page.<br>\nThank you for the hint.</p>","arenanet":false},{"pubDate":"2015-10-02T21:08:22.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5560208","author":"Eearslya.6309","body":"\n<p>You’re hitting the default page limit. Use the ?page and ?page_size request variables (max size of 200 per page) to get more results.</p>","arenanet":false},{"pubDate":"2015-10-02T17:08:15.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5559058","author":"Devilsown.9376","body":"\n<p>Only 50 trades are shown over /transactions/current/sells</p>\n<p>Arround June, I thought it’s only for the first time, for testing the Api, so I didn’t ask, but in between  I think I should:<br>\nIs that intentional or is it a mistake?</p>","arenanet":false},{"pubDate":"2015-06-13T06:14:10.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5143366","author":"Risingashes.8694","body":"\n<p>Would it be possible to expose items waiting in a character’s Delivery Box?</p>\n<p>This would be very helpful information personally.</p>","arenanet":false},{"pubDate":"2015-05-26T17:31:43.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5100564","author":"Lawton Campbell.8517","body":"\n<p>You should probably handle incomplete/duplicate result sets if you care about fidelity.</p>\n<p>Most of the unauthenticated endpoints don’t change their data until a patch lands though, so it’s not really that big of a deal. The only place it’ll really bite you (maybe) is the transactions endpoint.</p>","arenanet":true},{"pubDate":"2015-05-26T15:34:34.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5100166","author":"cephiroth.6182","body":"\n<p>One question regarding pagination:<br>\nThe situation I am thinking of is that the client is iterating over the pages while the data changes. Is this covered by the server in any way (e.g. producing a snapshot on loading page 0) or does the client have to deal with incomplete or duplicate result sets?</p>","arenanet":false},{"pubDate":"2015-05-23T00:10:43.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5092049","author":"Wizeon.3852","body":"\n<p>Thanks a lot! Nice to know that devs are listening<img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2015-05-22T23:19:29.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5091884","author":"Pat Cavit.9234","body":"\n<p>Found &amp; fixed the cache bug on dev, will try to get it deployed next week.</p>","arenanet":true},{"pubDate":"2015-05-21T17:24:50.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5087717","author":"Lawton Campbell.8517","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 21 2015 10:54AM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5086555\">Wizeon.3852:</a></cite></div><div class=\"quotey\"><p>I don’t think your API is obeying the config values, but is using some global 5min cache regardless of what’s in the config.</p></div></blockquote>\n<p>Yeah, I have a feeling that bit is broken. It’s one of the few bits that I don’t have unit tests for. I’ll try to get that fixed.</p>","arenanet":true},{"pubDate":"2015-05-21T10:54:54.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5086555","author":"Wizeon.3852","body":"\n<p>I don’t think your API is obeying the config values, but is using some global 5min cache regardless of what’s in the config.</p>\n<p>/v2/commerce/transactions still has a 5min delay if I change an order as soon as I see the last change occur, and /v2/commerce/listings is supposed to have 1sec cache but it’s 5min as well.</p>","arenanet":false},{"pubDate":"2015-05-20T20:35:57.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5084731","author":"rodadams.5963","body":"\n<p>I’ll point out that we can overcome not having backend support for this. You could build a single internal scanner, which would poll the backend with as fast an update speed as you can, and then when you notice a change, push that out.</p>\n<p>It’s not a perfect solution, but it’s an option.</p>","arenanet":false},{"pubDate":"2015-05-19T19:01:05.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5080715","author":"Lawton Campbell.8517","body":"\n<p>The cache time on /v2/commerce/transactions is going to drop to 1min; just pushed out the config change, it should take effect within the hour.</p>\n<p>Ultimately, polling HTTP isn’t a good medium for these use-cases. I mostly intended the endpoint to be used for offline purposes — e.g., export and data analysis. For a real-time dataflow it would be better for all parties if we used a protocol to push data down to the consumer. Unfortunately, our backend isn’t currently designed to support such an access pattern, so I’m not sure if we’ll ever be able to satisfy that use-case.</p>\n<p>Not saying that it’ll never happen, just that there’s a lot of work to be done to support real-time notifications e.g., HTTP long polling or websockets or server-sent events or what have you.</p>","arenanet":true},{"pubDate":"2015-05-19T15:32:21.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5079886","author":"Wizeon.3852","body":"\n<p>Thanks! In the end the get parameter is the only way to go then if I don’t want to send the user API key to my backend first which could handle the authorisation headers without preflight.</p>\n<p>I posted about the 1 second cache on the fair-use thread since it doesn’t actually seem to be a 1 second cache.</p>\n<p>Is there any chance to drop the cache timer on the transactions endpoint to a more reasonable one? Even 1 minute or the previously requested 30 seconds would be so much more useful in tracking your current orders “live” from outside the game.</p>","arenanet":false},{"pubDate":"2015-05-18T17:41:02.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5077482","author":"Lawton Campbell.8517","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 16 2015 04:36PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5072237\">Wizeon.3852:</a></cite></div><div class=\"quotey\"><p>I have a problem using this with jQuery ajax requests. The problem is that there is no<br>\nAccess-Control-Allow-Headers reported by the server, so the preflight request (method OPTIONS) aborts the whole thing. Or is there another way to add the authorization header to the request that wouldn’t trigger the preflight?</p></div></blockquote>\n<p>Ah, I forgot to put it in the notes again. You can pass the API key via the ?access_token parameter instead of the Authorization header. By doing that you’ll have a simple request which won’t trigger the preflight (which we don’t support).</p>\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 16 2015 04:36PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5072237\">Wizeon.3852:</a></cite></div><div class=\"quotey\"><p>And I’d also like the cache to be reduced from 5 minutes, on this endpoint and prices. I can’t track listing changes reliably with a 5 minute cache, no way to get any idea about the velocity of items if you only get a snapshot every 5 minutes.</p></div></blockquote>\n<p>The /v2/commerce/listings endpoint currently has a 1-second cache. It’s the only one currently that enjoys a non-5-minute cache.</p>\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 16 2015 04:36PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5072237\">Wizeon.3852:</a></cite></div><div class=\"quotey\"><p>Oh, and to get both buy and sell orders do I have to make two requests, to /buys and to /sells or is there a combined endpoint somewhere?</p></div></blockquote>\n<p>It’d have to be two requests; I really wanted it to have it the other way but there were some interesting technical constraints.</p>","arenanet":true},{"pubDate":"2015-05-16T16:36:07.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5072237","author":"Wizeon.3852","body":"\n<p>I have a problem using this with jQuery ajax requests. The problem is that there is no<br>\nAccess-Control-Allow-Headers reported by the server, so the preflight request (method OPTIONS) aborts the whole thing. Or is there another way to add the authorization header to the request that wouldn’t trigger the preflight?</p>\n<p>And I’d also like the cache to be reduced from 5 minutes, on this endpoint and prices. I can’t track listing changes reliably with a 5 minute cache, no way to get any idea about the velocity of items if you only get a snapshot every 5 minutes. It was great with the old api when you could do pretty much what you can do in-game, refresh the listings every other second and see what orders get filled and how fast.</p>\n<p>For this specific case I’d like to alert the user whether their listing is still the top one, or if the listing was fulfilled without the user camping their TP screen. Even a 1 minute would be more useful than the current 5 minute one.</p>\n<p>edit: Temporarily solved the ajax problem by not using headers but get parameters which is obviously not the ideal way to go, but at least it works. And the 5 minute timer pretty much makes the tool un-usable, if I put a buy order up it might take 5 minutes for it to show up, and then when it’s filled it might again take 5 minutes for the program to realise it’s been filled. Current version at <a href=\"http://mayumi.fi/gw2tp/\">http://mayumi.fi/gw2tp/</a></p>\n<p>Oh, and to get both buy and sell orders do I have to make two requests, to /buys and to /sells or is there a combined endpoint somewhere?</p>","arenanet":false},{"pubDate":"2015-05-14T08:14:13.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5063542","author":"Arridath.1087","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 12 2015 10:08PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5059704\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 10:44AM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5060940\">AllIsVain.6409:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on May 12 2015 10:08PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5059704\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><p>EDIT: Also, there’s a 5 minute cache on responses, so you don’t need to poll it that often.</p></div></blockquote>\n<p>Will this be getting reduced in the future, or is this a “take as given” limitation on the API (30 seconds was more what I was hoping for)</p></div></blockquote>\n<p>5 minutes is our current default; I couldn’t immediately think of any use-cases that would benefit from a reduced TTL so I just left it as default. What did you have in mind?</p></div></blockquote>\n<p>I can think of a few scenarios where immediate access would be useful. I can’t really think of a use that <em>wouldn’t</em> be restricted by a 5 minute cache.</p>","arenanet":false},{"pubDate":"2015-05-13T21:16:25.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5062606","author":"AllIsVain.6409","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 04:59PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5061883\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 10:44AM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5060940\">AllIsVain.6409:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on May 12 2015 10:08PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5059704\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><p>EDIT: Also, there’s a 5 minute cache on responses, so you don’t need to poll it that often.</p></div></blockquote>\n<p>Will this be getting reduced in the future, or is this a “take as given” limitation on the API (30 seconds was more what I was hoping for)</p></div></blockquote>\n<p>5 minutes is our current default; I couldn’t immediately think of any use-cases that would benefit from a reduced TTL so I just left it as default. What did you have in mind?</p></div></blockquote>\n<p>I was thinking of writing an application that got your recently bought items, extracted the price you bought them for and then gave your a price that would be optimal for resale (a peak price) based on factors. I was planning on integrating this into an overlay, so when you bought an item it ‘immediately’ flashed up showing the best price for flipping. There is no adverse affect for the cache being 5 minutes, it would just make it less streamlined.</p>","arenanet":false},{"pubDate":"2015-05-13T20:12:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5062448","author":"Nabrok.9023","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 07:31PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5062330\">AfterXII.2761:</a></cite></div><div class=\"quotey\"><p>Slightly unrelated question, do we know the max character limit on API Keys? (Building a database for accounts and need to know for optimizations)</p></div></blockquote>\n<p>It’s two GUIDs back-to-back, so char(72) will cover it.</p>\n<p>You could get fancy and store it in binary if you really want to.  I think this would only require 32 bytes, but you have to write code to handle transferring it back and forth.</p>","arenanet":false},{"pubDate":"2015-05-13T19:31:46.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5062330","author":"AfterXII.2761","body":"\n<p>Slightly unrelated question, do we know the max character limit on API Keys? (Building a database for accounts and need to know for optimizations)</p>","arenanet":false},{"pubDate":"2015-05-13T16:59:28.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5061883","author":"Lawton Campbell.8517","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 10:33AM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5060921\">Tiscan.8345:</a></cite></div><div class=\"quotey\"><p>Did I mess up or is there a problem with the API?</p></div></blockquote>\n<p>Yeah there were some unrelated server issues last night; let me know if you’re still experiencing problems.</p>\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 10:44AM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5060940\">AllIsVain.6409:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on May 12 2015 10:08PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5059704\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><p>EDIT: Also, there’s a 5 minute cache on responses, so you don’t need to poll it that often.</p></div></blockquote>\n<p>Will this be getting reduced in the future, or is this a “take as given” limitation on the API (30 seconds was more what I was hoping for)</p></div></blockquote>\n<p>5 minutes is our current default; I couldn’t immediately think of any use-cases that would benefit from a reduced TTL so I just left it as default. What did you have in mind?</p>","arenanet":true},{"pubDate":"2015-05-13T11:00:19.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5060979","author":"AllIsVain.6409","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 10:55AM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5060966\">Tiscan.8345:</a></cite></div><div class=\"quotey\"><p>If SSL was the problem, none of the requests would work (and I can access everything else just fine – and even if I add the SSL-stuff, i still get the same errors).</p>\n<p>But it looks like the Trading Post is bugged right now… according to the <a href=\"https://forum-de.guildwars2.com/forum/support/bugs/Handelsposten-funktioniert-nicht-3\">german</a> and <a href=\"https://forum-en.guildwars2.com/forum/support/bugs/Black-Lion-Trading-Post-is-down\">english</a> bug-forums, people can’t access it.</p></div></blockquote>\n<p>It’s currently down as far as I can tell. I had it working using similar code to what you had (adapted for my needs).</p>","arenanet":false},{"pubDate":"2015-05-13T10:55:54.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5060966","author":"Tiscan.8345","body":"\n<p>If SSL was the problem, none of the requests would work (and I can access everything else just fine – and even if I add the SSL-stuff, i still get the same errors).</p>\n<p>But it looks like the Trading Post is bugged right now… according to the <a href=\"https://forum-de.guildwars2.com/forum/support/bugs/Handelsposten-funktioniert-nicht-3\">german</a> and <a href=\"https://forum-en.guildwars2.com/forum/support/bugs/Black-Lion-Trading-Post-is-down\">english</a> bug-forums, people can’t access it.</p>","arenanet":false},{"pubDate":"2015-05-13T10:46:32.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5060946","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 13 2015 10:33AM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5060921\">Tiscan.8345:</a></cite></div><div class=\"quotey\"><p>I’ve got some problems accessing some endpoints… <br>\n[…]</p></div></blockquote>\n<p>You need to pass along a few more options to curl to make it work with SSL:</p>\n<pre><code>\ncurl_setopt_array($ch, [\n\tCURLOPT_URL            =&gt; $url,\n\tCURLOPT_SSL_VERIFYPEER =&gt; true,\n\tCURLOPT_SSL_VERIFYHOST =&gt; 2,\n\tCURLOPT_CAINFO         =&gt; '/path/to/cacert.pem', // download from: http://curl.haxx.se/ca/cacert.pem\n\tCURLOPT_RETURNTRANSFER =&gt; true,\n]);\n</code></pre>","arenanet":false},{"pubDate":"2015-05-13T10:44:38.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5060940","author":"AllIsVain.6409","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 12 2015 10:08PM\"><a href=\"/forum/community/api/Launching-v2-commerce-transactions/5059704\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><p>EDIT: Also, there’s a 5 minute cache on responses, so you don’t need to poll it that often.</p></div></blockquote>\n<p>Will this be getting reduced in the future, or is this a “take as given” limitation on the API (30 seconds was more what I was hoping for)</p>","arenanet":false},{"pubDate":"2015-05-13T10:33:49.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5060921","author":"Tiscan.8345","body":"\n<p>Edit: Looks like the TP is bugged at the moment (2015-05-13, 11:00 GMT) and its not a problem with my code.</p>\n<hr>\n<p>I’ve got some problems accessing some endpoints… if i use <a href=\"https://api.guildwars2.com/v2/commerce/transactions\">https://api.guildwars2.com/v2/commerce/transactions</a> or <a href=\"https://api.guildwars2.com/v2/commerce/transactions/current\">https://api.guildwars2.com/v2/commerce/transactions/current</a> I get the same results as shown in your posting.</p>\n<p>But using <a href=\"https://api.guildwars2.com/v2/commerce/transactions/history/buys?page_size=2\">https://api.guildwars2.com/v2/commerce/transactions/history/buys?page_size=2</a> or <a href=\"https://api.guildwars2.com/v2/commerce/transactions/history/buys\">https://api.guildwars2.com/v2/commerce/transactions/history/buys</a> (or anything else i tried) returns either a 502-HTML Error-Page or a JSON-Object stating “ErrTimeout”.</p>\n<p>My very simple PHP-Code:</p>\n<blockquote><div class=\"quotey\"><p>$token\t\t= ‘INSERT TOKEN!!!’;</p>\n<p>$ch\t\t= curl_init();</p>\n<p>curl_setopt($ch, CURLOPT_URL,“<a href=\"https://api.guildwars2.com/v2/commerce/transactions/history/buys?page_size=2\">https://api.guildwars2.com/v2/commerce/transactions/history/buys?page_size=2</a>”);<br>\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</p>\n<p>$headers\t= array();<br>\n$headers[]\t= ’Authorization: Bearer ’.$token;</p>\n<p>curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);</p>\n<p>$server_output\t= curl_exec ($ch);</p>\n<p>curl_close ($ch);</p>\n<p>if (is_json($server_output)) {<br>\n\tprint_r(json_decode($server_output));<br>\n} else {<br>\n\tvar_dump($server_output);<br>\n}</p>\n<p>function is_json($str){ <br>\n    return json_decode($str) != null;<br>\n}</p></div></blockquote>\n<p>Did I mess up or is there a problem with the API?</p>","arenanet":false},{"pubDate":"2015-05-12T22:08:07.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Launching-v2-commerce-transactions/5059704","author":"Lawton Campbell.8517","body":"\n<p>We’ve just turned on our second authenticated endpoint! It allows players to delegate access to their current and historical Black Lion Trading Post transactions (basically everything that’s shown in the “My Transactions” tab of the in-game Trading Post). There’s more details available in <a href=\"https://github.com/arenanet/api-cdi/pull/6\">the CDI thread</a>, but for posterity I’ll post some example request/responses.</p>\n<p>It’s important to note that all URLs provided by this endpoint require an API key with the “tradingpost” permission.</p>\n<p>The first two levels of the URL basically just point to what’s available on lower levels (for self-discovery purposes):</p>\n<pre><code>    GET /v2/commerce/transactions HTTP/1.1\n    Authorization: Bearer insert-token-here\n\n    HTTP/1.1 200 OK\n    Content-Type: application/json\n\n    [\n      \"current\",\n      \"history\"\n    ]\n</code></pre>\n<p>Both “current” and “history” endpoints provide separate lists for “buys” and “sells” — due to technical constraints it’s infeasible for us to collate them meaningfully.</p>\n<pre><code>    GET /v2/commerce/transactions/current HTTP/1.1\n    Authorization: Bearer insert-token-here\n\n    HTTP/1.1 200 OK\n    Content-Type: application/json\n\n    [\n      \"buys\",\n      \"sells\"\n    ]\n</code></pre>\n<p>Finally, the meat of the endpoint is a paginated list of the last 90 days of transactions (unfortunately, older transactions aren’t available). In the response headers there’s data about the total result set, as well as an <a href=\"https://tools.ietf.org/html/rfc5988\">RFC5988</a> Link header. As usual, pagination is controlled via the <code>page</code> and <code>page_size</code> URL parameters.</p>\n<pre><code>    GET /v2/commerce/transactions/history/buys?page_size=2 HTTP/1.1\n    Authorization: Bearer insert-token-here\n\n    HTTP/1.1 200 OK\n    Content-Type: application/json\n    X-Page-Size: 2\n    X-Page-Total: 143\n    X-Result-Count: 2\n    X-Result-Total: 286\n    Link: , &amp;lt;/v2/commerce/transactions/history/sells?page=0&amp;page_size=2&amp;gt;; rel=self, &amp;lt;/v2/commerce/transactions/history/sells?page=0&amp;page_size=2&amp;gt;; rel=first, &amp;lt;/v2/commerce/transactions/history/sells?page=142&amp;page_size=2&amp;gt;; rel=last\n\n    [\n      {\n        \"id\": 2757359846,\n        \"item_id\": 44971,\n        \"price\": 19998,\n        \"quantity\": 1,\n        \"created\": \"2015-05-12T06:36:12+00:00\",\n        \"purchased\": \"2015-05-12T16:55:14+00:00\"\n      },\n      {\n        \"id\": 2756695824,\n        \"item_id\": 24713,\n        \"price\": 425,\n        \"quantity\": 1,\n        \"created\": \"2015-05-12T06:35:33+00:00\",\n        \"purchased\": \"2015-05-12T08:36:50+00:00\"\n      }\n    ]\n</code></pre>\n<p>In the actual body, it’s important to note that the <code>id</code> field does not necessarily correspond when an order is filled (and thus moves from “current” to “history”). This is mostly because for e.g. a sale of 50, there may be multiple buy orders at different dates.</p>\n<p>Another constraint to be aware of is that cancelled orders are basically removed from the list. There’s not a clean way right now to discern between a cancelled and filled order, but since only commodities can be traded, it likely isn’t a huge deal.</p>\n<p>Finally, the “purchased” field is omitted for the “current” endpoint, since those orders haven’t yet been filled.</p>\n<p>Anyway, if you’ve got any questions/concerns post ‘em here and I’ll do my best to address ’em.</p>\n<p>EDIT: Also, there’s a 5 minute cache on responses, so you don’t need to poll it that often.</p>","arenanet":true}]}