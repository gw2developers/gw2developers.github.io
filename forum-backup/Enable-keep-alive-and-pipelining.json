{"title":"Enable keep-alive and pipelining?","pubDate":"2015-02-27T11:39:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining","comments":[{"pubDate":"2015-02-27T21:08:26.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4835638","author":"StevenL.3761","body":"\n<p>I always thought that the problem with ids=all is that it runs synchronously. I don’t experience any server hiccups when I send hundreds of smaller requests (200 ids) in parallel. Shouldn’t synchronous requests for the same data actually be less demanding?</p>\n<p>Unless the problem is that you buffer every json response in memory before you start writing to the underlying socket. I don’t know how difficult it would be to stream the response, but that would give you an immediate, noticeable performance boost.</p>","arenanet":false},{"pubDate":"2015-02-27T17:50:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4835023","author":"joshflosh.4517","body":"\n<p>Ok i thought so, thanks for the response nonetheless!</p>","arenanet":false},{"pubDate":"2015-02-27T17:28:42.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4834975","author":"Pat Cavit.9234","body":"\n<p>With our current setup keep-alive/pipelining isn’t possible, sorry.</p>\n<p>/v2/items?ids=all would be a massive response and probably make our servers very, very unhappy.</p>","arenanet":true},{"pubDate":"2015-02-27T12:04:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4834244","author":"joshflosh.4517","body":"\n<p>Well it’s not a problem, just a question, since i care about optimization.  150MB? Are we talking about the same thing?</p>","arenanet":false},{"pubDate":"2015-02-27T12:01:04.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4834239","author":"smiley.1438","body":"\n<p>So where’s the problem then? (We’re talking about ~38k items and ~150MB DB size)<img src=\"/include/images/smilies/colondee.png\"></p>\n<p>I’ve a very slow connection, so i can only estimate – there have been reports from like a couple seconds to a few minutes. However, it also depends on the amount of languages you pull from the DB.</p>","arenanet":false},{"pubDate":"2015-02-27T11:57:42.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4834231","author":"joshflosh.4517","body":"\n<p>A few minutes? Maybe im misreading something there, but i currently fetch all items in 15 seconds^^</p>","arenanet":false},{"pubDate":"2015-02-27T11:50:58.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4834218","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on February 27 2015 11:39AM\"><a href=\"/forum/community/api/Enable-keep-alive-and-pipelining/4834202\">joshflosh.4517:</a></cite></div><div class=\"quotey\"><p>On a sidenote: an even better solution would be, if you could enable ?ids=all for that endpoint.</p></div></blockquote>\n<p>I guess the servers would then explode…<img src=\"/include/images/smilies/colondee.png\"></p>\n<p>I’d recommend you something like RollingCurl which speeds up the whole process (a few minutes on a fast connection).</p>\n<p><a href=\"https://github.com/codemasher/gw2-database/blob/master/classes/rollingcurl.class.php\">https://github.com/codemasher/gw2-database/blob/master/classes/rollingcurl.class.php</a><br>\n<a href=\"https://github.com/codemasher/gw2-database/blob/master/classes/gw2items.class.php#L186\">https://github.com/codemasher/gw2-database/blob/master/classes/gw2items.class.php#L186</a></p>","arenanet":false},{"pubDate":"2015-02-27T11:39:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Enable-keep-alive-and-pipelining/4834202","author":"joshflosh.4517","body":"\n<p>Hey,</p>\n<p>i am currently programming an app for gw2 and when downloading the item-lists (/v2/items/?page=..) i noticed that your server don’t seem to support persistent connection and therefore also no HTTP Pipelining. Would it be possible for you guys to enable those, as that could drastically improve the performance of fetching the whole item-list?</p>\n<p>On a sidenote: an even better solution would be, if you could enable ?ids=all for that endpoint. But since i don’t know your backend infrastructure, that could just be server limitations.</p>\n<p>Btw i love the API v2, it already improved performance by a lot, thank you for that!</p>","arenanet":false}]}