{"title":"/v2/commerce/listings returning invalid ID's?","pubDate":"2014-11-12T02:08:49.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s","comments":[{"pubDate":"2014-12-01T23:29:15.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4595306","author":"Wolf Fivousix.4319","body":"\n<p>Hi there again, sorry to bring back the topic, but considering it is already here I thought would be better than opening a new one just for this issue. It also has the advantage of having the previous conversation context, which might help.</p>\n<p>I’m about to finish this software, but I have come across another “<strong>invalid ID</strong>”.<br>\n<strong>ID 29978, Ebon Vanguard Staff:</strong> This one, unlike the others, <strong>is</strong> a valid item (as Dr Ishamael Items X Prices suggestion), therefore when I do try to access the prices API I get the blank brackets “[]”.</p>\n<p>Should this item, being an account bound item, be on the <a href=\"https://api.guildwars2.com/v2/commerce/listings\">https://api.guildwars2.com/v2/commerce/listings</a> and <a href=\"https://api.guildwars2.com/v2/commerce/prices\">https://api.guildwars2.com/v2/commerce/prices</a> ?</p>\n<p>Thank you!</p>","arenanet":false},{"pubDate":"2014-11-13T00:40:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4557867","author":"Wolf Fivousix.4319","body":"\n<p>Hmmm, that’s a great idea! I’ll have a list with all the valid ID’s in the game and another with all the listings in the game, if something in the listings does not match a valid ID in the first list, then it’s not a valid one.</p>\n<p>Thank you very much!</p>","arenanet":false},{"pubDate":"2014-11-12T22:25:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4557633","author":"Dr Ishmael.9685","body":"\n<p>You could just get the full lists of IDs from /v2/items and from /v2/commerce/listings, then do a list compare.</p>","arenanet":false},{"pubDate":"2014-11-12T21:51:16.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4557573","author":"Wolf Fivousix.4319","body":"\n<p>So far, yes. Since I had no need for the information before, I had no need to batch the ID’s in one request. Now with this change it is definitely a good idea, but then that’s more of a efficiency improvement than a need, so I’m leaving all efficiency changes for the “production phase” of my software, this way I don’t loose my focus on the needs of the project while the change I mentioned required only a minor tweak on the order of already implemented and working code.</p>\n<p>But please, I would gladly accept any recommendation you could provide me for that phase!</p>","arenanet":false},{"pubDate":"2014-11-12T21:27:16.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4557513","author":"StevenL.3761","body":"\n<p>You’re doing the extra call to /items for each ID separately?</p>","arenanet":false},{"pubDate":"2014-11-12T21:01:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4557473","author":"Wolf Fivousix.4319","body":"\n<p>Hey Pat, thank you for the explanation too! Let us know when they fix it, as I’m doing an extra request to the item server when I first create my database, so I don’t get the invalid ID’s on it.<br>\nI know, not efficient at all, but I see no other way of requesting confirmation for the ID. At least I “fused” the step where I retrieve the item information with the ID confirmation, but still hammering the /v2/items/ more then I wanted to, as I would not request the item information for every ID.</p>","arenanet":false},{"pubDate":"2014-11-12T18:03:03.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4557076","author":"Pat Cavit.9234","body":"\n<p>The listings have been removed from the TP (Notice how there’s no buys or sells for <a href=\"https://api.guildwars2.com/v2/commerce/listings/29974\">https://api.guildwars2.com/v2/commerce/listings/29974</a>) but they weren’t re-marked as undiscovered when we cleared them out.</p>\n<p>Seems like our fix wasn’t complete, I’ll bug somebody about that.</p>","arenanet":true},{"pubDate":"2014-11-12T04:53:03.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4555899","author":"Wolf Fivousix.4319","body":"\n<p>Hey Dr Ishmael, thank you very much for the fast reply!<br>\nThat explains a lot! I’ll make a work around for those cases then and when they patch that I’ll patch mine too.</p>\n<p>PS: Great book! Completely changed the way I look at the world!</p>","arenanet":false},{"pubDate":"2014-11-12T02:38:14.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4555728","author":"Dr Ishmael.9685","body":"\n<p>Those are “leftovers” of an old bug in the TP that allowed people to submit buy orders for items that aren’t enabled in the live game.  I’m pretty sure that bug has been fixed, but these listings haven’t been removed from the TP.  I think Pat has said they’re working on finding a way to do that, though.</p>","arenanet":false},{"pubDate":"2014-11-12T02:08:49.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/v2-commerce-listings-returning-invalid-ID-s/4555681","author":"Wolf Fivousix.4319","body":"\n<p>I’m currently developing a software to work with the TP and I’m using <a href=\"https://api.guildwars2.com/v2/commerce/listings\">https://api.guildwars2.com/v2/commerce/listings</a> to retrieve all the items ID’s. BUT seems like some of those ID’s do not exist, like “29974”.<br>\nIf I try to open a link with that id, <a href=\"https://api.guildwars2.com/v2/items/29974\">https://api.guildwars2.com/v2/items/29974</a>, I get a {\"text\":“no such id”} answer.</p>\n<p>The wiki says <em>“If the root endpoint (/v2/commerce/listings) is accessed without specifying an id, a list of all ids is returned.”</em> , doesn’t that mean that those ID’s should be an item that is currently been traded on the TP?<br>\nIf not, then probably is a list of all valid items IN the game, but then again, the item doesn’t exist!</p>\n<p>Am I doing something wrong? Did I skipped a detail somewhere?</p>\n<p>Thank you for any help!</p>","arenanet":false}]}