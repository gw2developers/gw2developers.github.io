{"title":"certificate problems","pubDate":"2016-01-27T23:41:41.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems","comments":[{"pubDate":"2016-05-10T23:15:17.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/6148271","author":"Sariel V.7024","body":"\n<p>This was a major headache as several times the fix failed for some reason or other, so I thought I would outline the steps I took to get it working (Windows version).</p>\n<p>1. Copy the site certificate -<br>\n1.a. Open <a href=\"https://api.guildwars2.com\">https://api.guildwars2.com</a> in Chrome.<br>\n1.b. Click the green lock next to the address bar. This brings up the security report.<br>\n1.c. Next to “Your connection to this site is private.”, click “Details”<br>\n1.d. Click the [View certificate] button.<br>\n1.e. On the Certificate window, click the “Details” tab.<br>\n1.f. Click the [Copy to File…] button.<br>\n1.g. Advance through the export wizard. Select Base-64 encoded X.509 (.cer). Select a save directory and name.</p>\n<p>2. Launch cmd.exe in administrator mode.</p>\n<p>3. Navigate to your Java directory. Enter the /bin subdirectory.</p>\n<p>4. Enter the following on one line:<br>\nkeytool -import -noprompt -trustcacerts -alias wwwGuildWars2 -file “C:/Path_To_Your_Certificate/certificateName.cer” -keystore “C:/Path_To_Java_Directory/lib/security/cacerts” -storepass changeit</p>\n<p>4.1. Insert paths to your files as needed. The default password for the keystore is changeit. If you’ve ever actually set it in the past, use whatever that was.</p>\n<p>5. If there is some confusion which keystore is being pulled from (e.g. you have multiple java installations), repeat step 4 for each of them.</p>\n<p>Now I get to figure out why eclipse is pulling from a different Java’s keystore…</p>","arenanet":false},{"pubDate":"2016-01-28T21:58:24.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5955168","author":"Lawton Campbell.8517","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on January 28 2016 08:55PM\"><a href=\"/forum/community/api/certificate-problems/5954937\">Sariel V.7024:</a></cite></div><div class=\"quotey\"><p>Do you know how recently that was changed?</p></div></blockquote>\n<p>I believe the SSL cipher suite was changed for the Dallas datacenter on Jan 22nd; I think the old cipher suite is still in use in the Frankfurt datacenter temporarily (but might be wrong about that).</p>","arenanet":true},{"pubDate":"2016-01-28T21:34:07.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5955077","author":"Tiscan.8345","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on January 28 2016 08:17PM\"><a href=\"/forum/community/api/certificate-problems/5954823\">Lawton Campbell.8517:</a></cite></div><div class=\"quotey\"><p>Turns out there was a mis-configuration in the Frankfurt data center! Got the relevant parties involved and they’re going to have it fixed at some point. Thanks for the report, sorry about that! (this only affects guildwars.com and isn’t related to the OP).</p></div></blockquote>\n<p>Awesome <img src=\"/include/images/smilies/smile.png\"> Thanks!</p>","arenanet":false},{"pubDate":"2016-01-28T20:55:03.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5954937","author":"Sariel V.7024","body":"\n<p>Do you know how recently that was changed?</p>\n<p>As for the explanation on the error message, I see wildly ridiculous reasons to explain a missing semicolon, so how the JVM is interpreting something may have little to do with the problem as described by a troubleshooting webpage :/ Unfortunately, that brings me no closer to a fix.</p>\n<p>(I’m a rambler. Hard to gripe about people going off-topic when I do it myself<img src=\"/include/images/smilies/smile.png\">   )</p>","arenanet":false},{"pubDate":"2016-01-28T20:17:14.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5954823","author":"Lawton Campbell.8517","body":"\n<p>Turns out there was a mis-configuration in the Frankfurt data center! Got the relevant parties involved and they’re going to have it fixed at some point. Thanks for the report, sorry about that! (this only affects guildwars.com and isn’t related to the OP).</p>","arenanet":true},{"pubDate":"2016-01-28T19:08:58.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5954612","author":"Tiscan.8345","body":"\n<p>Thanks for the info, Lawton… but I ’ve got the same issue on all browsers and PCs I tried (and they are all updated). Another user (Silmar Alech) pointed out, that if you resolve guildwars.com from germany (or probably the whole EU) you get a different IP (64.25.47.11) than when you resolve the IP from a NA-server (64.25.40.54). That might be an issue.</p>\n<p>But I guess we might get a little bit off-topic here and i don’t wanna hijack Sariel’s thread <img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2016-01-28T17:54:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5954411","author":"Lawton Campbell.8517","body":"\n<p>AFAIK the config change was made at the load balancer level, so it should affect all ArenaNet sites, including guildwars.com.</p>\n<p>If you’re having TLS handshake errors, I highly suggest updating (or changing) your browser and seeing if that fixes the issue.</p>","arenanet":true},{"pubDate":"2016-01-28T14:23:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5953867","author":"Tiscan.8345","body":"\n<p>Sorry for asking a kinda unrelated/non-API question… but do you know if the config for the (old) guildwars.com-site was changed, too? Because there seem to be quite a few people (me included) that no longer can access that site because of some problems with the encryption (I already <a href=\"https://forum-en.guildwars2.com/forum/game/gw2/guildwars-com-not-reachable\">made a thread</a> in the general discussion board).</p>","arenanet":false},{"pubDate":"2016-01-28T00:41:48.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5952462","author":"Lawton Campbell.8517","body":"\n<p>I think we changed our TLS configuration to not use deprecated cipher suites. The certificate is unchanged, but we no longer support RC4 ciphers or MD5/SHA1 digests. That might be the issue, but I’ve no idea why that’d be a validatorexception and not something like “no suitable cipher suite” or just “handshake failure”.</p>","arenanet":true},{"pubDate":"2016-01-27T23:41:42.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/certificate-problems/5952260","author":"Sariel V.7024","body":"\n<p>I do my skimming via Java. When I tried to connect today, I started receiving a sun.security.validator.validatorexception on every attempted connection. The info I can find on this online suggests that I don’t have the certificate for the server I am contacting. This is strange, since I’ve been connecting to the api server for over a year now and have never had a problem like this. Did you guys or GoDaddy make any changes to it recently?</p>","arenanet":false}]}