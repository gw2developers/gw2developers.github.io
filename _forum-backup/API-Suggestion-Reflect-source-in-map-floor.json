{"title":"[API Suggestion] Reflect source in map_floor","pubDate":"2014-03-22T13:38:03.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-Suggestion-Reflect-source-in-map-floor","comments":[{"pubDate":"2014-03-22T17:48:40.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-Suggestion-Reflect-source-in-map-floor/3796770","author":"StevenL.3761","body":"\n<p>It’s a simple association property. Or navigation property. Or however you want to call it. Anyway, they are just identifiers. Redundancy is not an argument here.</p>\n<p><strong>edit</strong></p>\n<p>Just for funsies, try and tell me which continent and floor this data belongs to:</p>\n<div class=\"spoiler_container\"><div class=\"spoileroncontainer\"><button type=\"button\" class=\"button spoileron\" title=\"Click to show the spoiler.\">Show Spoiler</button></div><div class=\"spoiler\"><div class=\"spoileroffcontainer\"><button type=\"button\" class=\"button spoileroff\" title=\"Click to hide the spoiler.\">hide spoiler</button><br></div><div class=\"spoilertext\"><pre><code>\n{\n   \"texture_dims\":[\n      32768,\n      32768\n   ],\n   \"clamped_view\":[\n      [\n         1662,\n         2816\n      ],\n      [\n         12544,\n         8062\n      ]\n   ],\n   \"regions\":{\n      \"29\":{\n         \"name\":\"Super Adventure Box\",\n         \"label_coord\":[\n            6272,\n            2432\n         ],\n         \"maps\":{\n            \"935\":{\n               \"name\":\"Super Adventure Box\",\n               \"min_level\":1,\n               \"max_level\":80,\n               \"default_floor\":20,\n               \"map_rect\":[\n                  [\n                     -15360,\n                     -30720\n                  ],\n                  [\n                     15360,\n                     30720\n                  ]\n               ],\n               \"continent_rect\":[\n                  [\n                     1574,\n                     5972\n                  ],\n                  [\n                     2854,\n                     8532\n                  ]\n               ],\n               \"points_of_interest\":[\n                  {\n                     \"poi_id\":1824,\n                     \"name\":\"\",\n                     \"type\":\"waypoint\",\n                     \"floor\":20,\n                     \"coord\":[\n                        2206.49,\n                        7275.1\n                     ]\n                  }\n               ],\n               \"tasks\":[\n\n               ],\n               \"skill_challenges\":[\n\n               ],\n               \"sectors\":[\n                  {\n                     \"sector_id\":1128,\n                     \"name\":\"Super Adventure Box\",\n                     \"level\":80,\n                     \"coord\":[\n                        2175.26,\n                        7206.06\n                     ]\n                  }\n               ]\n            }\n         }\n      }\n   }\n}</code></pre></div></div></div>","arenanet":false},{"pubDate":"2014-03-22T17:19:20.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-Suggestion-Reflect-source-in-map-floor/3796632","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on March 22 2014 05:10PM\"><a href=\"/forum/community/api/API-Suggestion-Reflect-source-in-map-floor/3796595\">StevenL.3761:</a></cite></div><div class=\"quotey\"><p>That’s how I’m doing it now, but it’s a hack.  The ugliest one so far.</p></div></blockquote>\n<p>Redundant data is even uglier. Seriously.</p>","arenanet":false},{"pubDate":"2014-03-22T17:10:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-Suggestion-Reflect-source-in-map-floor/3796595","author":"StevenL.3761","body":"\n<p>That’s how I’m doing it now, but it’s a hack.  The ugliest one so far.</p>\n<p>The problem is that my request and response objects are decoupled, so the response object knows nothing about the origin of the data. I use manager classes to put all the pieces together. The fact that the response data does not contain identifiers puts the web service manager in a position where it has to fill in those blanks, rather than the JSON serializer.</p>","arenanet":false},{"pubDate":"2014-03-22T16:18:13.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-Suggestion-Reflect-source-in-map-floor/3796337","author":"smiley.1438","body":"\n<p>You have those values already in your request, where’s the problem to add these to the response object by yourself?</p>","arenanet":false},{"pubDate":"2014-03-22T13:38:03.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/API-Suggestion-Reflect-source-in-map-floor/3795765","author":"StevenL.3761","body":"\n<p>My caching algorithm requires that API response objects have some indication of what they represent. Currently, this is not the case for map_floor objects.</p>\n<p>My suggestion is to add the continent_id and floor values as properties.</p>\n<p><strong>Example</strong>: /v1/map_floor.json?continent_id=1&amp;floor=1</p>\n<pre><code>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continent_id: 1,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;floor: 1,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;texture_dims: [...]\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regions: {...}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;\n</code></pre>\n<p>&nbsp;—<br>\n&nbsp;<br>\nThank you</p>","arenanet":false}]}