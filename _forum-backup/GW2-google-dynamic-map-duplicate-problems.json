{"title":"GW2 google dynamic map  : duplicate problems","pubDate":"2013-10-16T15:09:31.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems","comments":[{"pubDate":"2013-10-18T14:02:08.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3049879","author":"Lea.6194","body":"\n<p>ok, I will have a look at your links, thanks<img src=\"/include/images/smilies/smile.png\"></p>\n<p>It was just missing a comma on the mapobject code above .. my page is working, just have to adjust the value of allowed panning (which is too big when I’m zoom out)<img src=\"/include/images/smilies/smile.png\"></p>\n<p>I really would like that it should be impossible to pan outside of the map :-)<br>\n<strong>edit</strong> solved<img src=\"/include/images/smilies/smile.png\"></p>\n<p>Then, I’ll try to optimize the code ^^</p>","arenanet":false},{"pubDate":"2013-10-17T20:22:43.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3044994","author":"smiley.1438","body":"\n<p>FYI: the code example i provided is just a slight modification of Google’s example for custom map layers. I have added 2 functions to translate latlng coordinates to pixel values and vice versa which is required if you want to draw any stuff on a GW2 map and this already makes about 1/3 of the code. Then i’ve addded a second imagemap layer to  draw tyria and the mists and finally, i changed the function initialize() which you can find in most of Googles examples to a self invoking function to get rid of the &lt;body onload=\"...\"&gt; because inline events are really bad practice (see: <a href=\"https://twitter.com/guypod/status/390140202393432065\">https://twitter.com/guypod/status/390140202393432065</a>)<br>\nI’d also recommend you this interesting blogpost for reading: <a href=\"http://sparecycles.wordpress.com/2008/06/29/advanced-javascript/\">http://sparecycles.wordpress.com/2008/06/29/advanced-javascript/</a><img src=\"/include/images/smilies/wink.png\"></p>","arenanet":false},{"pubDate":"2013-10-17T18:47:09.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3044276","author":"Lea.6194","body":"\n<p>I understand the page that’s not the matter<img src=\"/include/images/smilies/wink.png\"><br>\nBut as I want something very simple, I don’t want to write a compex and parametric code ;-)<br>\nNevermind, thanks for your help, I’ll manage to find my error :-)</p>","arenanet":false},{"pubDate":"2013-10-17T18:22:49.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3044091","author":"smiley.1438","body":"\n<p>The commented example isn’t too complex and you should be able to strip a few lines of code so that you get what you want – just play a bit with it. I can’t teach you in Javascript – i assume that you at least know the basics of it.</p>","arenanet":false},{"pubDate":"2013-10-17T17:11:54.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3043650","author":"Lea.6194","body":"\n<p>Thanks for the comments but my simple map is working fine, I don’t want something complex.</p>\n<p>I’ve tried to extract mapobject to create  the object alone and use it after. Without too much options because I want only the map of Tyria.</p>\n<p>But that doesn’t work (white page)…<br>\n(and I use mapobject.map.getMapTypeIdfor the get_tile function)</p>\n<p>mapobject = {<br>\n                                continent: 1,<br>\n                                map: new google.maps.Map(document.getElementById(“gw2map”), {<br>\n                                        zoom: 3,<br>\n                                        minZoom: 1,<br>\n                                        maxZoom: 7,<br>\n                                        center: new google.maps.LatLng(0,0),<br>\n                                        streetViewControl: false,<br>\n                                        panControl: true,<br>\n                                        zoomControl: true,<br>\n                                        mapTypeId: “1”<br>\n                                        mapTypeControlOptions: {<br>\n                                                mapTypeIds: [“1”]<br>\n                                        }<br>\n                                })\t\t\t\t\t\t\t\t,<br>\n                                layers: {},<br>\n                                markers: {},<br>\n                                popups: []<br>\n            };</p>","arenanet":false},{"pubDate":"2013-10-16T18:13:25.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3037205","author":"smiley.1438","body":"\n<p>Ok, i’ve added some comments to the simple Google Maps example i created ages ago, so that it should be a good point to start from – i think it’ll answer most of your questions:</p>\n<p><a href=\"https://github.com/codemasher/gw2api-tools/blob/master/examples/gw2maps-gmaps-simple.html\">https://github.com/codemasher/gw2api-tools/blob/master/examples/gw2maps-gmaps-simple.html</a><br>\n(may look a bit messy, i forgot to uncheck “reformat code on commit” in phpstorm -.-)</p>","arenanet":false},{"pubDate":"2013-10-16T17:03:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3036669","author":"Lea.6194","body":"\n<p>Thanks again :-)</p>\n<p>I’m really new in javascript so your code is hard to transpose for me. I write js code a way more simple (newbie style? ^^) (but surely less optimized) …. if it’s not too long for you, is it possible that you guide me to introduce the mapobject in my code ?</p>\n<p>Here is my function Initialize :</p>\n<p>function initialize(){<br>\n\t\t\t<br>\n\t\t\tgmap = new google.maps.Map(document.getElementById(“gw2map”) , {<br>\n\t\t\t\t\tzoom: 3,<br>\n\t\t\t\t\tminZoom: 2,<br>\n\t\t\t\t\tmaxZoom: 7,<br>\n\t\t\t\t\tcenter: new google.maps.LatLng(0, 0),<br>\n\t\t\t\t\tstreetViewControl: false,<br>\n\t\t\t\t\tgeocode: false,<br>\n\t\t\t\t\tmapTypeId: “1”,<br>\n\t\t\t\t\tmapTypeControlOptions: {<br>\n\t\t\t\t\t\tmapTypeIds: [“1”]<br>\n\t\t\t\t\t}<br>\n\t\t\t\t});<br>\n\t\t\t\t<br>\n\t\t\t\t<br>\n\t\t\tget_tile = function(coords,zoom){<br>\n\t\t\t\t\tif(coords.y &lt; 0 || coords.x &lt; 0 || coords.y &gt;= (1 &lt;&lt; zoom) || coords.x &gt;= (1 &lt;&lt; zoom)){<br>\n\t\t\t\t\t\treturn “./black.png”;<br>\n\t\t\t\t\t}<br>\n\t\t\t\t\treturn “<a href=\"https://tiles.guildwars2.com/\">https://tiles.guildwars2.com/</a>”<ins>gmap.getMapTypeId()</ins>“/1/”+zoom+\"/“<ins>coords.x</ins>”/“<ins>coords.y</ins>”.jpg\";<br>\n\t\t\t\t}<br>\n\t\t\t\t<br>\n\t\t\ttile_size = new google.maps.Size(256,256);<br>\n\t\t\t\t<br>\n\t\t\ttyria = new google.maps.ImageMapType({<br>\n\t\t\t\t\tmaxZoom: 7,<br>\n\t\t\t\t\talt: “Tyrie”,<br>\n\t\t\t\t\tname: “Tyrie”,<br>\n\t\t\t\t\ttileSize: tile_size,<br>\n\t\t\t\t\tgetTileUrl: get_tile<br>\n\t\t\t\t});<br>\n\t\t\t<br>\n\t\t\tgmap.mapTypes.set(“1”,tyria);<br>\n\t\t\t<br>\n\t\t<br>\n\t\t}</p>","arenanet":false},{"pubDate":"2013-10-16T16:45:27.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3036524","author":"smiley.1438","body":"\n<p>No, leaflet has native support for custom maps and therefore also a nice bounding feature. But on the other hand it has still a lot of bugs and a lot of features are still missing, or only available as sometimes incomplete/undocumented/buggy plugins. So you’d best choose the map library based on the features your map should provide.</p>\n<p>For example: i chose Google Maps for the location tracker because of it’s native support for <a href=\"https://github.com/codemasher/gw2api-tools/blob/master/examples/gw2location.html#L71\">SVG icons</a> and stuff and i chose leaflet for the Wikimaps project because of it’s <a href=\"http://wiki-de.guildwars2.com/wiki/K%C3%B6nigintal/Interaktive_Karte\">bounding features</a> (and of course because it’s open source)</p>","arenanet":false},{"pubDate":"2013-10-16T15:53:47.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3036140","author":"Lea.6194","body":"\n<p>Thank you for your answer :-). <br>\nI’m having a look at leaflet.com … is there the same problem with leaflet ?</p>","arenanet":false},{"pubDate":"2013-10-16T15:21:47.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3035899","author":"smiley.1438","body":"\n<p>Theres actually no way to prevent the horizontal wrapping of the markers (and other overlays) – i’ve googled like 500 pages on that topic and didn’t yet find a solution. However, it is at least possible to lock the horizontal and vertical panning of the map, have a look at this: <a href=\"https://github.com/codemasher/gw2api-tools/blob/master/js/gw2location-gmaps.js#L88\">https://github.com/codemasher/gw2api-tools/blob/master/js/gw2location-gmaps.js#L88</a></p>\n<p>(but anyway, i’d also be happy if someone has a handy solution to prevent overlay wrapping in GMaps)</p>","arenanet":false},{"pubDate":"2013-10-16T15:09:31.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-google-dynamic-map-duplicate-problems/3035800","author":"Lea.6194","body":"\n<p>Hi!</p>\n<p>I’m trying to create a web page with a dynamic map of Tyrie with markers on it. I’m using google map … but I noticed that markers and/or map is duplicate on the side of the google map. It’a like an infinite loop when you pan the page.</p>\n<p>exemple on a well known map, I have the same problem :<br>\n<a href=\"http://gw2cartographers.com/\">http://gw2cartographers.com/</a></p>\n<p>I’ve found a solution (on this forum) for hidding map but not markers …. Does someone know how to deal with this problem ?</p>\n<p>Thanks in advance :-)</p>","arenanet":false}]}