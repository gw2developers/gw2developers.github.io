{"title":"Get the recipe unlock item","pubDate":"2015-07-22T09:23:16.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Get-the-recipe-unlock-item","comments":[{"pubDate":"2015-07-24T07:54:49.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Get-the-recipe-unlock-item/5313727","author":"RedGlow.2715","body":"\n<p>Caching, pain and delight!</p>\n<p>But, yeah, I’ve relied to a similar solution. Now I’ll look if I can propose this kind of reverse-API access.</p>\n<p>Thanks for the confirmations!</p>","arenanet":false},{"pubDate":"2015-07-22T10:57:17.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Get-the-recipe-unlock-item/5307157","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on July 22 2015 10:46AM\"><a href=\"/forum/community/api/Get-the-recipe-unlock-item/5307142\">RedGlow.2715:</a></cite></div><div class=\"quotey\"><p>Well, both items you linked (yours, and mine) contain the details field, actually.</p></div></blockquote>\n<p>Now it gets super weird, because i could swear it wasn’t there. Caching issue, devs?</p>\n<p>Well, if you haven’t access to a database, why not just save a .json (or whatever type suits you best) containing the recipe- and output-ids from recipes.json – that’d be enough to backlink.</p>","arenanet":false},{"pubDate":"2015-07-22T10:46:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Get-the-recipe-unlock-item/5307142","author":"RedGlow.2715","body":"\n<p>Well, both items you linked (yours, and mine) contain the details field, actually. But that’s not my problem: I need to get the ids of these items, and not informations about them, starting from the recipe id.</p>\n<p>So, to pick a practical example: starting from the item id 19621 (gift of metal), I can obtain its recipe id through <a href=\"https://api.guildwars2.com/v2/recipes/search?output=19621\">https://api.guildwars2.com/v2/recipes/search?output=19621</a> (recipe: gift of metal) and get 6074, from there get recipe through <a href=\"https://api.guildwars2.com/v2/recipes/6074\">https://api.guildwars2.com/v2/recipes/6074</a> , and get that it has the flag LearnedFromItem… but then the APIs can’t help me any longer, because I don’t know which item(s) unlock the recipes 6074.</p>\n<p>Sadly, in the project where I need this functionality, I have no support database in the backend that can scratch the whole items database continuously, and can only rely to direct calls to the APIs. So, right now, I’ll have to hardcode the recipe ids for the items I need.</p>","arenanet":false},{"pubDate":"2015-07-22T09:43:27.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Get-the-recipe-unlock-item/5307056","author":"smiley.1438","body":"\n<p>Hmm, thats weird because usually there’s a “details” object in the item response, containing “unlock_type” and “recipe_id” like in here <a href=\"https://api.guildwars2.com/v2/items/48452\">https://api.guildwars2.com/v2/items/48452</a>. In the last days i noticed that some items were missing the “details” for whatever reason – and so does the one you picked:  <a href=\"https://api.guildwars2.com/v2/items/9615\">https://api.guildwars2.com/v2/items/9615</a>.</p>\n<p>However, in order to do a reverse lookup, you’d best have a database of the items and recipes endpoint so you could just do:<br>\n</p><pre><code>-- get the id of the recipe-unlock for an item\nSELECT * FROM `gw2_items` where `unlock_type` = 'CraftingRecipe' AND `unlock_id` = (SELECT `recipe_id` FROM `gw2_recipes` WHERE `output_id` = 48106)</code></pre><p></p>","arenanet":false},{"pubDate":"2015-07-22T09:23:17.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Get-the-recipe-unlock-item/5307029","author":"RedGlow.2715","body":"\n<p>Hello,<br>\n  maybe I’m just missing something, but it seems to me it is not possible right now to obtain which item(s) can be consumed in order to obtain a specific recipe.</p>\n<p>To make it more clear:</p>\n<ul>\n\t<li>I can obtain the recipe(s) that produce an item: <a href=\"https://api.guildwars2.com/v2/recipes/search?output=XXX\">https://api.guildwars2.com/v2/recipes/search?output=XXX</a></li>\n\t<li>I can know if the recipe is autolearned or must be learned from an item: <a href=\"https://api.guildwars2.com/v2/recipes/YYY\">https://api.guildwars2.com/v2/recipes/YYY</a>, and then look at the “flags” field</li>\n\t<li>I can <strong>not</strong> know which item can be consumed to learn that specific recipe</li>\n</ul>\n<p>The data is there, because if I look at a recipe item (e.g.: <a href=\"https://api.guildwars2.com/v2/items/9615\">https://api.guildwars2.com/v2/items/9615</a> ), I can get on the “details” field that it is a recipe unlock, and which recipe it unlocks. What I would need is a reverse search on that field (analogous to the endpoint /recipes/search, which is a reverse search on the recipes).</p>\n<p>Am I missing something or is this feature currently not implemented?</p>","arenanet":false}]}