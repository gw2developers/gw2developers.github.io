{"title":"Proposal: Combat statistics and DPS meters","pubDate":"2017-04-02T09:09:19.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1","comments":[{"pubDate":"2017-05-02T07:39:36.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6571845","author":"voidvector.2780","body":"\n<p>I don’t think we were talking about the same thing.</p>\n<p>When I said “doesn’t meant it has to be a web app” I was referring to the conversation about the amount of in-memory data being enormous.</p>\n<p>When I said “ArenaNet had this in mind” I was referring to <a href=\"https://github.com/arenanet/api-cdi/issues/127\">this ticket of theirs</a></p>","arenanet":false},{"pubDate":"2017-05-01T17:36:00.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6571143","author":"SlippyCheeze.5483","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on May 01 2017 12:22PM\"><a href=\"/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6570853\">voidvector.2780:</a></cite></div><div class=\"quotey\"><p>HTTP+JSON doesn’t meant it has to be a web app. It can be a CRON job that periodically curls or a Graphite integration.</p>\n<p>Interesting that ArenaNet had this in mind already.</p></div></blockquote>\n<p>You are misreading on two fronts here:</p>\n<p>First, the comments about HTTP/JSON vs anything else were about the complexity on the server side, not the consumer side.  Your response deals with the consumer side.</p>\n<p>Second, anet have given absolutely no indication of what, if any, thoughts they have on the subject.  (Unless you mean the references to the terms of service, in which case that is more generic “everything is forbidden, unless it is permitted”.)</p>","arenanet":false},{"pubDate":"2017-05-01T12:22:54.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6570853","author":"voidvector.2780","body":"\n<p>HTTP+JSON doesn’t meant it has to be a web app. It can be a CRON job that periodically curls or a Graphite integration.</p>\n<p>Interesting that ArenaNet had this in mind already.</p>","arenanet":false},{"pubDate":"2017-04-30T06:53:40.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6569651","author":"deltaconnected.4058","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on April 28 2017 09:52AM\"><a href=\"/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6567644\">Thrill.6259:</a></cite></div><div class=\"quotey\"><p>Apart from the (very interesting) technical details implementing this is feasible “if” ANet wants to. I guess they don’t though. Seems like they’re hoping this problem will just go away by itself (Spoiler: It won’t).</p>\n<p>This really is a shame. Solving this would single-handedly make raids more accessible to newcomers. The golem is OK for DPS classes but supporters need to keep track of their uptime. Even making the stats there more precise would somewhat solve this issue.</p>\n<p>Maybe when the first wave of compromised accounts arrives ANet will act. Wouldn’t be the first time some shady after-market mod gets a little keylogging feature. I can already imagine the Headline “Thousands of Guild Wars 2 accounts hacked – Auto updater of approved third-party mod at fault”.</p></div></blockquote>\n<p>Possible*. Important distinction. We can’t speculate on the feasibility of anything about ANet’s client or server architecture because we had no part in writing it. In fact the only hint we have about the feasibility of a combat tracker API was that it would be <a href=\"https://forum-en.guildwars2.com/forum/community/api/Chat-log/6421012\">client-local and that it’s a large undertaking</a>. It’s very possible as well that ANet does not see this as a problem in the first place  – perhaps the risk of one of the few meter developers stealing accounts is worth taking in comparison to the hours needed to create the infrastructure. Also important to note that ANet did not approve any mods – they approved hackish means as long as they are only used to get combat data out of the client. The risk is still on the user to determine if the mod is compliant or “safe”. Aaaand it wouldn’t be the first time an enthusiastic developer wrote a 3rd party mod for fun that will fade after the game fades.</p>","arenanet":false},{"pubDate":"2017-04-28T09:52:06.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6567644","author":"Thrill.6259","body":"\n<p>Apart from the (very interesting) technical details implementing this is feasible “if” ANet wants to. I guess they don’t though. Seems like they’re hoping this problem will just go away by itself (Spoiler: It won’t).</p>\n<p>This really is a shame. Solving this would single-handedly make raids more accessible to newcomers. The golem is OK for DPS classes but supporters need to keep track of their uptime. Even making the stats there more precise would somewhat solve this issue.</p>\n<p>Maybe when the first wave of compromised accounts arrives ANet will act. Wouldn’t be the first time some shady after-market mod gets a little keylogging feature. I can already imagine the Headline “Thousands of Guild Wars 2 accounts hacked – Auto updater of approved third-party mod at fault”.</p>","arenanet":false},{"pubDate":"2017-04-26T18:38:56.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6565470","author":"SlippyCheeze.5483","body":"\n<p>Yah, WoW tracks this is the range of 150 to 300MB of data for a “night” of raiding, which is around three hours of concentrated play for 20 people, uncompressed, for some comparison.  It does compress well, though.<img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2017-04-25T19:58:19.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6564336","author":"deltaconnected.4058","body":"\n<p>An average fight can range from 100-250k events depending on length and composition. If I included single-stack buff removal events, this would be closer to 150-300k. If we had strike healing and passive healing, it would probably be in the range of 200-400k. Even compressed, making that kind of detail available via the web API is probably a bit too hefty.</p>","arenanet":false},{"pubDate":"2017-04-20T17:43:17.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6559467","author":"SlippyCheeze.5483","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on April 20 2017 04:09PM\"><a href=\"/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6559371\">Thrill.6259:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on April 18 2017 06:18PM\"><a href=\"/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6557671\">SlippyCheeze.5483:</a></cite></div><div class=\"quotey\"><p>That is significantly more costly than just writing a file to disk, FWIW, so … I’d not hold my breath for that.<img src=\"/include/images/smilies/wink.png\"></p></div></blockquote>\n<p>Uh. No. Socket interactions are way less expensive than Disk IO. And when it comes to development costs the real cost is in gathering the data anyway and whether you write it to disk (using existing libs) or write it to a socket (using existing libs) shouldn’t matter all that much.</p></div></blockquote>\n<p>haha, yeah, just writing raw data to either is approximately as expensive, but…  you were talking about some sort of HTTP or WebSocket backed thing, not a simple raw socket, right?  Running the stack to serve that up to an HTTP style client is more expensive than writing formatted data to a file handle, is what I mean.<img src=\"/include/images/smilies/smile.png\"></p>\n<p>It’s not the cost per “line” of output, it’s the cost of all the administrative overhead of making it work that adds difficulty.<img src=\"/include/images/smilies/smile.png\"></p>","arenanet":false},{"pubDate":"2017-04-20T16:09:35.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6559371","author":"Thrill.6259","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on April 18 2017 06:18PM\"><a href=\"/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6557671\">SlippyCheeze.5483:</a></cite></div><div class=\"quotey\"><p>That is significantly more costly than just writing a file to disk, FWIW, so … I’d not hold my breath for that.<img src=\"/include/images/smilies/wink.png\"></p></div></blockquote>\n<p>Uh. No. Socket interactions are way less expensive than Disk IO. And when it comes to development costs the real cost is in gathering the data anyway and whether you write it to disk (using existing libs) or write it to a socket (using existing libs) shouldn’t matter all that much.</p>\n<p>Anyway I’d still like to have an answer to my original concerns – preferably from ANet. Even something along the lines of “we are still trying to figure it out” would be sufficient. I just want to know this issue is not forgotten.</p>","arenanet":false},{"pubDate":"2017-04-18T18:18:10.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6557671","author":"SlippyCheeze.5483","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on April 16 2017 05:38PM\"><a href=\"/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6555845\">voidvector.2780:</a></cite></div><div class=\"quotey\"><p>It could be a localhsot:8080 style implementation. This way it is more accessible to developers, as anyone with HTTP JSON experience in any language/platform would know how to use it.</p>\n<p>However, I am not sure if Anet has that kind architecture in place.</p></div></blockquote>\n<p>That is significantly more costly than just writing a file to disk, FWIW, so … I’d not hold my breath for that.<img src=\"/include/images/smilies/wink.png\"></p>","arenanet":false},{"pubDate":"2017-04-16T17:38:48.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6555845","author":"voidvector.2780","body":"\n<p>It could be a localhsot:8080 style implementation. This way it is more accessible to developers, as anyone with HTTP JSON experience in any language/platform would know how to use it.</p>\n<p>However, I am not sure if Anet has that kind architecture in place.</p>","arenanet":false},{"pubDate":"2017-04-03T16:25:42.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6544871","author":"SlippyCheeze.5483","body":"\n<p>You would be much more likely to see, eg, local combat log output than API based combat log output.  That distributes the costs over a much wider area, without significantly changing the effort require by anet to implement.  (eg: similar to how the wow combat logs work.)</p>\n<p>Regardless, though, it’s a big effort, and the grudging acceptance of the memory reading DPS meters reflects a reality that this isn’t going to bring the sort of return on investment anet are likely to find worthwhile any time soon.</p>","arenanet":false},{"pubDate":"2017-04-02T09:09:20.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Proposal-Combat-statistics-and-DPS-meters-1/6543921","author":"Thrill.6259","body":"\n<p>Greetings,</p>\n<p>This post is aimed at the implementation and usage of DPS meters.</p>\n<p><strong>API proposal</strong></p>\n<p>Provide a json API that provides logs of the last fights. Something along the lines of</p>\n<pre><code>\nGET /v2/last_combats\n\n[\n    {\n        \"foe\": \"Sabetha the Saboteur\",\n        \"success\": true,\n        \"group_dps\": 120154,\n        \"individiual_dps\": {\n            \"player_a\": 23053,\n            [...]\n        },\n        \"effect_uptime\": {\n            \"player_a\": {\n                \"alacrity\": 0.92,\n                \"regeneration\": 0.32,\n               [...]\n            },\n            [...]\n        },\n        combat_events: [\n            {\n                \"timestamp\": 1491122052,\n                \"player\": \"player_a\",\n                \"target\": \"Sabetha the Saboteur\",\n                \"category\": \"damage\",\n                \"amount\": 1492,\n                \"type\": \"Condition\",\n                \"subtype\": \"Poison\"\n            }, {\n                \"timestamp\": 1491122053,\n                \"player\": \"some_druid\",\n                \"target\": \"player_a\",\n                \"category\": \"heal\",\n                \"amount\": 423,\n                \"type\": \"Boon\",\n                \"subtype\": \"Regeneration\"\n            }, {\n                \"timestamp\": 1491122054,\n                \"player\": \"some_warrior\",\n                \"target\": \"player_a\",\n                \"category\": \"boon\",\n                \"amount\": 1,\n                \"type\": \"Might\",\n                \"subtype\": \"Phalanx Strength\"\n            },\n            [...]\n        ]\n    }, {\n        \"foe\": \"Bandit\",\n        \"success\": true,\n        \"group_dps\": 80152,\n        [...]\n    }\n]\n</code></pre>\n<p><strong>Current state</strong></p>\n<p>Players use 2 brands of memory reading DPS meters in Raids. In the following sections S will explain why I will not use them and why no one should.</p>\n<p><strong>Legal issues</strong></p>\n<p>From the <a href=\"https://www.guildwars2.com/en/legal/guild-wars-2-user-agreement/\">User Agreement</a> §8:</p>\n<p><em>You acknowledge that You may not, without signed written consent from a legally authorized representative of ArenaNet, do any of the following:</em></p>\n<p><em>[…]</em></p>\n<p><em>(i) Use, obtain or provide data related to operation of the Game, including but not limited to:</em></p>\n<p><em>????????(i) software that reads areas of computer memory or storage devices related to the Game;</em></p>\n<p><em>[…]</em></p>\n<p>In the GW2 <a href=\"https://www.reddit.com/r/Guildwars2/comments/5svug8/the_head_of_the_snake_devs_here_ask_us_anything/ddi7kta/\">AMA</a> for Head of the Snake Chris Cleary wrote the following:</p>\n<p><em>We have no problems with players using a 3rd party tool whose scope is only to collect and visualize combat data gathered directly from the game client. Anything beyond that scope is still considered a violation of the User Agreement.</em></p>\n<p>This is not a written signed agreement though so in my laymans opinion DPS meter users are still in violation to the user agreement (Yes, I’m fun at parties). If ANet wants users to continue using these mods they should change the user agreement.</p>\n<p><strong>Security issues</strong></p>\n<p>Especially the B*** tool concerns me a lot regarding security. This tool contains auto-update functionality that makes it possible for anyone controlling the update server to execute arbitrary code. I do not think that the developers have the resources to ensure the safety of their infrastructure under the circumstances. Arbitrary access to thousands of GW2 Accounts make these C&amp;C servers very high-profile targets.</p>\n<p>The A** tool seems saner in this matter as the developer guarantees that the DLL contains no network functionality.</p>\n<p><strong>Anti cheating heuristics</strong></p>\n<p>Both A** and B*** employ techniques that are very common among cheats. Any heuristic from ANet that detects D3D9 wrappers will have no way to determine the legitimacy of these wrappers except whitelisting every version of every legitimate meter.</p>\n<p>Tolerating these kind of tools may make it difficult for ANet to employ such techniques if they become necessary.</p>\n<p><strong>Summary</strong></p>\n<p>If ANet tolerates DPS meters they should provide a sane way for everyone to use this data. D3D9 wrappers are not a sane way at all. As it stands players without DPS meters have a huge disadvantage in raids because they have less feedback from boss fights which they can use to refine their gameplay.</p>","arenanet":false}]}