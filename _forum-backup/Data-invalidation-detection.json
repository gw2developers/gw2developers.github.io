{"title":"Data invalidation detection","pubDate":"2017-05-26T17:55:49.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Data-invalidation-detection","comments":[{"pubDate":"2017-05-26T21:14:45.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Data-invalidation-detection/6600520","author":"Lawton Campbell.8517","body":"\n<p>I <a href=\"https://github.com/arenanet/api-cdi/issues/536\">opened a tracking issue</a> for this. The main blocker is that our caching layer doesn’t actually expose the remaining duration for cache entries. Since the caching bit is very widely used throughout the game systems, modifying it is kind of scary.</p>\n<p>Actually, I don’t know why I didn’t think of this sooner, but I can just wrap the cached objects in a wrapper that includes the cache timing information. It won’t be 100% accurate (clock sync) but it should be correct within a few seconds, hmm.</p>","arenanet":true},{"pubDate":"2017-05-26T17:55:49.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Data-invalidation-detection/6600409","author":"cephiroth.6182","body":"\n<p>When requesting data from paginated endpoints one has to confide the api data is not modified during the requests (e.g. when the api fetches newer data from the backend). How about adding some header field that we can check to notice when this happens. If this field would change through paginating we would be able to restart from the beginning.</p>\n<p>Implementation suggestions:</p>\n<p>1. Header field containing the datetime the api data was fetched from the backend. <br>\nAs a sidenote: The “Expires” header always seems to be servertime + 60s. With above fetch-datetime “Expires” might carry useful values in the future.</p>\n<p>Any chance that this (or something similar) could be implemented?</p>","arenanet":false}]}