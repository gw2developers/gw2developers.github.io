{"title":"New account page, disconnect link","pubDate":"2015-07-28T05:42:17.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/New-account-page-disconnect-link","comments":[{"pubDate":"2015-07-28T18:36:52.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/New-account-page-disconnect-link/5327260","author":"Lawton Campbell.8517","body":"\n<p>Yeah we just pushed out a handful of bugfixes, including that one <img src=\"/include/images/smilies/lion.png\"></p>","arenanet":true},{"pubDate":"2015-07-28T18:27:36.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/New-account-page-disconnect-link/5327190","author":"Moturdrn.2837","body":"\n<p>Not sure if you’ve done anything, but doesn’t look to be happening any more.</p>\n<p>Just created several new keys to test on both the local and remote server, and no additional Current Log-ins are appearing.</p>\n<p>Cheers!</p>","arenanet":false},{"pubDate":"2015-07-28T16:11:51.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/New-account-page-disconnect-link/5326135","author":"Lawton Campbell.8517","body":"\n<p>Those sessions shouldn’t be appearing in the list on the security page; they’re internal OAuth2 sessions created for the API keys for internal use.</p>","arenanet":true},{"pubDate":"2015-07-28T08:50:08.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/New-account-page-disconnect-link/5325212","author":"Moturdrn.2837","body":"\n<p>Pressing disconnect seems to remove access for that key <del>(at least from that IP address)</del> for a few minutes (until the next API cache refresh?)</p>\n<pre><code>\nTested: Created new key and called the TokenInfo\nArray (\n       [0] =&gt; HTTP/1.1 200 OK\n       [1] =&gt; Content-Length: 100 \n       [2] =&gt; Content-Type: application/json; charset=utf-8 \n       [3] =&gt; Server: Microsoft-IIS/7.5 [4] =&gt; Access-Control-Allow-Origin: *\n       [5] =&gt; X-Content-Type-Options: nosniff\n       [6] =&gt; Date: Tue, 28 Jul 2015 08:34:43 GMT\n       [7] =&gt; Connection: close\n       [8] =&gt; \n\t   [9] =&gt; {\n\t\t\t\"id\":\"id-goes-here\",\n\t\t\t\"name\":\"My Test Key\",\n\t\t\t\"permissions\":[\"account\"]\n\t\t} \n\t)\n\n</code></pre>\n<pre><code>\n\nDisconnected via https://account.arena.net/security/settings and re-ran the call to TokenInfo\nArray ( \n       [0] =&gt; HTTP/1.1 403 Forbidden \n\t   [1] =&gt; Content-Length: 43 \n\t   [2] =&gt; Content-Type: application/json; charset=utf-8 \n\t   [3] =&gt; Server: Microsoft-IIS/7.5 \n\t   [4] =&gt; Access-Control-Allow-Origin: * \n\t   [5] =&gt; X-Content-Type-Options: nosniff \n\t   [6] =&gt; Date: Tue, 28 Jul 2015 08:36:12 GMT \n\t   [7] =&gt; Connection: close \n\t   [8] =&gt; \n\t   [9] =&gt; {\n\t\t\t\"text\":\"endpoint requires authentication\"\n\t\t} \n\t)\n\n</code></pre>\n<pre><code>\n\nCalled using a different key\nArray ( \n       [0] =&gt; HTTP/1.1 200 OK \n\t   [1] =&gt; Content-Length: 100 \n\t   [2] =&gt; Content-Type: application/json; charset=utf-8 \n\t   [3] =&gt; Server: Microsoft-IIS/7.5 \n\t   [4] =&gt; Access-Control-Allow-Origin: * \n\t   [5] =&gt; X-Content-Type-Options: nosniff \n\t   [6] =&gt; Date: Tue, 28 Jul 2015 08:37:47 GMT \n\t   [7] =&gt; Connection: close \n\t   [8] =&gt; \n\t   [9] =&gt; {\n\t\t\t\"id\":\"id-goes-here\",\n\t\t\t\"name\":\"My Test Key 2\",\n\t\t\t\"permissions\":[\"account\"]\n\t\t} \n\t)\n\n</code></pre>\n<pre><code>\n\nTried again using the original key\nArray ( \n       [0] =&gt; HTTP/1.1 403 Forbidden \n\t   [1] =&gt; Content-Length: 43 \n\t   [2] =&gt; Content-Type: application/json; charset=utf-8 \n\t   [3] =&gt; Server: Microsoft-IIS/7.5 \n\t   [4] =&gt; Access-Control-Allow-Origin: * \n\t   [5] =&gt; X-Content-Type-Options: nosniff \n\t   [6] =&gt; Date: Tue, 28 Jul 2015 08:38:33 GMT \n\t   [7] =&gt; Connection: close \n\t   [8] =&gt; \n\t   [9] =&gt; {\n\t\t\t\"text\":\"endpoint requires authentication\"\n\t\t} \n\t)\n\n</code></pre>\n<pre><code>\n\nA few minutes later using the original key again\nArray ( \n       [0] =&gt; HTTP/1.1 200 OK \n\t   [1] =&gt; Content-Length: 100 \n\t   [2] =&gt; Content-Type: application/json; charset=utf-8 \n\t   [3] =&gt; Server: Microsoft-IIS/7.5 \n\t   [4] =&gt; Access-Control-Allow-Origin: * \n\t   [5] =&gt; X-Content-Type-Options: nosniff \n\t   [6] =&gt; Date: Tue, 28 Jul 2015 08:39:36 GMT \n\t   [7] =&gt; Connection: close \n\t   [8] =&gt; \n\t   [9] =&gt; {\n\t\t\t\"id\":\"id-goes-here\",\n\t\t\t\"name\":\"My Test Key\",\n\t\t\t\"permissions\":[\"account\"]\n\t\t} \n\t)\n\t\n</code></pre>\n<p><strong>Edit:</strong><br>\nOkay I’ve had the chance to test with another IP address, one local and one remote.</p>\n<p>I connected to the API with the remote server, then connected to the API with the local server. The IPs for the remote server appeared in the Current Log-Ins.</p>\n<p>I disconnected the remote server via the page, and tested the API on both servers. Neither server could authenticate against the TokenInfo endpoint until the refresh.</p>","arenanet":false},{"pubDate":"2015-07-28T05:42:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/New-account-page-disconnect-link/5324968","author":"Nabrok.9023","body":"\n<p>I noticed that on the security section of the new account page it lists the IP address of every recent API query using one of your keys, along side your game client connections.</p>\n<p>There’s a “disconnect” link next to each one. What will that link do for API related IPs?</p>","arenanet":false}]}