{"title":"Items mentioned in recipes, not found","pubDate":"2015-12-23T08:11:28.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Items-mentioned-in-recipes-not-found","comments":[{"pubDate":"2015-12-23T22:26:58.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Items-mentioned-in-recipes-not-found/5876805","author":"Lawton Campbell.8517","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on December 23 2015 08:11AM\"><a href=\"/forum/community/api/Items-mentioned-in-recipes-not-found/5875588\">bobsort.4097:</a></cite></div><div class=\"quotey\"><p>I’m not sure if this is pointed out somewhere. I was poking around with data extracted from API and noticed there are some recipes that their output item does not exists in Items API. Here are the list.</p></div></blockquote>\n<p>Guh, I think those are the items that are actually guild upgrades and deposited straight into the guild inventory. I’ll have to dig through the code that handles the crafting bits and see why the whitelist isn’t seeing events for those items — I was pretty sure I had it hooked up right but apparently it’s broken.</p>\n<blockquote><div class=\"citey\"><cite title=\"Posted on December 23 2015 08:11AM\"><a href=\"/forum/community/api/Items-mentioned-in-recipes-not-found/5875588\">bobsort.4097:</a></cite></div><div class=\"quotey\"><p>Also I would like to know, How you guys handle deleting items or recipes in GW2?</p></div></blockquote>\n<p>As background, the API gets the item data (and any other data that can be localized) from a backend server whose sole responsibility is serializing data from the .dat file. I’m not altogether too familiar with the internal format of it (I just work against an API for reading it), but my understanding is that all updates are opaque and destructive — there are technically deltas that are used to patch the .dat file, but they’re binary diffs. The only feasible way I know of to check on the before/after versions of an item is to check it in perforce — which the backend servers won’t ever have access to.</p>\n<p>My recommendation is to, whenever there’s a new release (e.g., once every two weeks), to do a complete reindex of all the endpoints that have a ?lang parameter. Since you’ve got a copy of the old dataset, you can compute the diff against the new one and store whatever metadata you like.</p>\n<p>Sorry I don’t have better news <img src=\"/include/images/smilies/sad.png\"></p>","arenanet":true},{"pubDate":"2015-12-23T08:11:28.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/Items-mentioned-in-recipes-not-found/5875588","author":"bobsort.4097","body":"\n<p>I’m not sure if this is pointed out somewhere. I was poking around with data extracted from API and noticed there are some recipes that their output item does not exists in Items API. Here are the list.</p>\n<pre><code>\nRecipeId ItemId Disipline Type                ChatLink\n-------- ------ --------- ------------------- -----------\n10060     72198 Scribe    GuildDecoration     [&amp;CkwnAAA=]\n10510     76707 Scribe    GuildDecoration     [&amp;Cg4pAAA=]\n10940     72307 Scribe    GuildConsumable     [&amp;CrwqAAA=]\n11125     76657 Scribe    GuildConsumableWvw  [&amp;CnUrAAA=]\n11196     75761 Scribe    GuildConsumableWvw  [&amp;CrwrAAA=]\n11530     71964 Scribe    GuildDecoration     [&amp;CgotAAA=]\n11695     70982 Scribe    GuildConsumable     [&amp;Cq8tAAA=]\n</code></pre>\n<p>(I tried pre tag but as the whole text is formated with variable width font, columns are messed up)</p>\n<p>Although I can validate and ignore these recipes from list in my own program,<br>\nIt would be great if you could somehow check existence of the items before sending the recipe id in list.</p>\n<p>Also I would like to know, How you guys handle deleting items or recipes in GW2?<br>\nThis is specifically important when applications cache your item data and there is no way of knowing if they are updated/deleted. There was a suggestion earlier to add an API method to return ID of Items that are updated or deleted which can be determined internally via an Create/Modify Date tag on your data.</p>\n<p>A sample of this data would be like<br>\n</p><pre><code>\n{  \n    added:[1,2,3,4], \n    deleted:[6,7,8,9],\n    updated:[11,12,13,14]\n}\n</code></pre><p></p>","arenanet":false}]}