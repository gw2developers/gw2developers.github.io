{"title":"GW2's Mumble Link \"context\" data format","pubDate":"2013-07-06T20:47:12.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format","comments":[{"pubDate":"2015-04-14T19:57:08.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4975227","author":"MentalFS.2589","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on March 31 2015 08:30PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4936134\">Reincarnated.1754:</a></cite></div><div class=\"quotey\"><p><strong>race:</strong><br>\n0 = Asura<br>\n1 = Charr<br>\n2 = Human<br>\n3 = Norn<br>\n4 = Sylvari</p></div></blockquote>\n<p>No new race alphabetically placed before Sylvari <strong>confirmed</strong>. Conveniently, there are races whose name starts with letters like <strong>T</strong>…</p>","arenanet":false},{"pubDate":"2015-04-09T21:49:18.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4964260","author":"Lawton Campbell.8517","body":"\n<p>Should be the vertical FOV.</p>","arenanet":true},{"pubDate":"2015-04-09T20:19:24.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4964073","author":"aRestless.6213","body":"\n<p>Just to be save: Are we talking about the horizontal, vertical, or diagonal field of view?</p>","arenanet":false},{"pubDate":"2015-03-31T23:23:57.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4936761","author":"Lawton Campbell.8517","body":"\n<p>Yeah, fov is the current field of view.</p>","arenanet":true},{"pubDate":"2015-03-31T20:30:14.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4936134","author":"Reincarnated.1754","body":"\n<p><strong>identity</strong> has been updated.<br>\nThey added <strong>race</strong> and <strong>fov</strong></p>\n<p><strong>race:</strong><br>\n0 = Asura<br>\n1 = Charr<br>\n2 = Human<br>\n3 = Norn<br>\n4 = Sylvari</p>\n<p>I asume <strong>fov</strong> is Field of View, can some one confirm?</p>","arenanet":false},{"pubDate":"2014-10-12T21:26:57.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4482365","author":"StevenL.3761","body":"\n<p>Some map types that I was able to gather (MumbleContext mapType):</p>\n<p>2 = PvP maps<br>\n4 = Instanced map (dungeons, story, home instance, activity)<br>\n5 = PvE (all explorable zones except Dry Top)<br>\n9 = Eternal Battlegrounds<br>\n10 = Blue Borderlands<br>\n11 = Green Borderlands<br>\n12 = Red Borderlands<br>\n15 = EotM<br>\n16 = Dry Top</p>\n<p>I wouldn’t be surprised if there are more map types, one for every number not already on my list (1, 3, 6, 7, 8 ,13, 14).</p>","arenanet":false},{"pubDate":"2014-10-12T12:25:21.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4481524","author":"StevenL.3761","body":"\n<p>Could the first 4 bits actually be a map type instead of a continent ID? What makes EotM different from other WvW maps?</p>\n<p>0000 → Instance<br>\n0001 → PvE<br>\n1000 → WvW<br>\n1100 → WvW (EotM)<br>\n???? → PvP</p>\n<p>The MumbleContext struct has a mapType property that may come in use. I don’t have any data on it though.</p>","arenanet":false},{"pubDate":"2014-10-06T21:04:35.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4470260","author":"Dr Ishmael.9685","body":"\n<p>The leftmost bits look somewhat like a continent ID.</p>\n<p>0000 → dungeons (and maybe other instances as well)<br>\n0001 → Tyria<br>\n1000 → WvW<br>\n1100 → EotM</p>","arenanet":false},{"pubDate":"2014-10-06T18:15:38.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4469861","author":"StevenL.3761","body":"\n<p>That makes sense. Dungeons are instanced, so they wouldn’t put them on a megaserver shard.</p>\n<p>I still don’t know about the other maps though.</p>","arenanet":false},{"pubDate":"2014-10-06T17:52:15.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4469804","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on October 06 2014 05:42PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4469768\">StevenL.3761:</a></cite></div><div class=\"quotey\"><p>00000000000000000000011111010101, Twilight Arbor</p></div></blockquote>\n<p>11111010101 → 2005 decimal which is RoF’s world_id (coincidence?)</p>","arenanet":false},{"pubDate":"2014-10-06T17:42:34.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4469768","author":"StevenL.3761","body":"\n<p>Some shard_id values that I recorded so far (logged in from the Ring of Fire server):</p>\n<p>10000000000000000000000000000111, Eternal Battlegrounds<br>\n11000000000000000000000000000101, Edge of the Mists<br>\n10000000000000000000000000000111, Borderlands<br>\n00010000000000000000000000000100, Dry Top<br>\n00010000000000000000000000000001, Queensdale<br>\n00010000000000000000000000000001, Gendarran Fields<br>\n00010000000000000000000000001011, Harathi Hinterlands<br>\n00010000000000000000000000000001, Lornar’s Pass<br>\n00010000000000000000000000001010, Divinity’s Reach<br>\n00010000000000000000000000001001, Lion’s Arch<br>\n00010000000000000000000000000001, The Grove<br>\n00010000000000000000000000000010, Rata Sum<br>\n00010000000000000000000000000001, Black Citadel<br>\n00010000000000000000000000000001, Hoelbrak<br>\n00010000000000000000000000000001, Southsun Cove<br>\n00010000000000000000000000011111, Sparkfly Fen<br>\n00010000000000000000000000000011, Straits of Devastation<br>\n00010000000000000000000000000001, Caledon Forest<br>\n00000000000000000000011111010101, Twilight Arbor</p>\n<p>There is definitely a pattern here. I’m just not seeing it. Maybe if we can complete the data for all maps.</p>","arenanet":false},{"pubDate":"2014-10-06T11:28:16.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4469167","author":"StevenL.3761","body":"\n<p>Has anybody gathered any new information over the last couple of weeks? I already know that the value of “world_id” is now set to the same value as “shardId” of struct “MumbleContext”. It appears that this value is to be used as a bit mask, not an actual ID. I can confirm that the “shardId” and “worldId” change as you move between different parts of the game, but I haven’t cracked the pattern yet.</p>","arenanet":false},{"pubDate":"2014-09-01T14:58:59.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355796","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on September 01 2014 02:40PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355766\">meh.6784:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on September 01 2014 02:22PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355738\">smiley.1438:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on September 01 2014 01:20PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355612\">meh.6784:</a></cite></div><div class=\"quotey\"><p>The world_id seems to be broken in WvW as well.</p></div></blockquote>\n<p>Right. I forgot that the world_id was always broken in WvW, so this value is basically useless now in all cases.</p></div></blockquote>\n<p>Aww that sucks, hope they fix it so I can find the world automatically from my Overwolf app.</p></div></blockquote>\n<p>soon™</p>","arenanet":false},{"pubDate":"2014-09-01T14:40:15.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355766","author":"meh.6784","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on September 01 2014 02:22PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355738\">smiley.1438:</a></cite></div><div class=\"quotey\"><blockquote><div class=\"citey\"><cite title=\"Posted on September 01 2014 01:20PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355612\">meh.6784:</a></cite></div><div class=\"quotey\"><p>The world_id seems to be broken in WvW as well.</p></div></blockquote>\n<p>Right. I forgot that the world_id was always broken in WvW, so this value is basically useless now in all cases.</p></div></blockquote>\n<p>Aww that sucks, hope they fix it so I can find the world automatically from my Overwolf app.</p>","arenanet":false},{"pubDate":"2014-09-01T14:22:12.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355738","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on September 01 2014 01:20PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355612\">meh.6784:</a></cite></div><div class=\"quotey\"><p>The world_id seems to be broken in WvW as well.</p></div></blockquote>\n<p>Right. I forgot that the world_id was always broken in WvW, so this value is basically useless now in all cases.</p>","arenanet":false},{"pubDate":"2014-09-01T13:20:35.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4355612","author":"meh.6784","body":"\n<p>The world_id seems to be broken in WvW as well.</p>","arenanet":false},{"pubDate":"2014-08-29T00:23:54.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4345169","author":"smiley.1438","body":"\n<p>@Devs:</p>\n<p>Will there be an update to the context data to reflect the changes of the commander icon colors? (like commander: 0 = off, 1 = blue, 2= red, …)<br>\nAlso: can you please fix and/or explain the “garbage” values which are currently returned as world_id?</p>","arenanet":false},{"pubDate":"2014-08-28T10:29:34.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4342105","author":"draos.9574","body":"\n<p>The world_id is broken with the megaserver system. Only working in wvw but there which some problems.</p>","arenanet":false},{"pubDate":"2014-08-27T17:22:01.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4339635","author":"StevenL.3761","body":"\n<p>268,435,465 decimal is 10 00 00 09 hexadecimal. Does that number ever change? What happens when you guest on another world?</p>","arenanet":false},{"pubDate":"2014-08-26T20:10:51.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4336491","author":"smiley.1438","body":"\n<p>The world_id is (or should be) your home world id which can (could) be assigned to <a href=\"https://api.guildwars2.com/v1/world_names.json\">https://api.guildwars2.com/v1/world_names.json</a> . However since the megaservers were introduced it’s basically messed up <del>and will only return usable values in case you’re in WvW</del>.</p>\n<p>The team_color_id value isn’t 0/1/2 but 0 for neutral and the actual color_id from <a href=\"https://api.guildwars2.com/v1/colors.json\">https://api.guildwars2.com/v1/colors.json</a> for red/blue/green.</p>","arenanet":false},{"pubDate":"2014-08-26T18:38:19.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/4336091","author":"Reincarnated.1754","body":"\n<p>I done a little program to help me remember some of the events I have done each day.<br>\n<a href=\"https://www.dropbox.com/s/48vrruqyilizt4y/Boss%20Timer.rar?dl=0\">https://www.dropbox.com/s/48vrruqyilizt4y/Boss%20Timer.rar?dl=0</a></p>\n<p>There is a map section that uses the API. Helps me in WvW</p>\n<p>I have found *identity * to be:<br>\n{\"name\": “Palingenesis”,“profession”: 6,“map_id”: 18,“world_id”: 268435465,“team_color_id”: 0,“commander”: false}</p>\n<p><strong>name</strong> — that straight forward<img src=\"/include/images/smilies/smile.png\"><br>\n<strong>profession</strong> — I think 1=Guardian, 2=Warrior, 3=Engineer, 4=Ranger, 5=Thief, 6=Elementalist, 7=Mesmer, 8=Necromancer.<br>\n<strong>map_id</strong> — this works with <a href=\"https://api.guildwars2.com/v1/maps.json?map_id=18\">https://api.guildwars2.com/v1/maps.json?map_id=18</a><br>\n<strong>world_id</strong> — this I don’t know, any one able to help with the number given here? (268435465)<br>\n<strong>team_color_id</strong> — I think 0=Red, 1=Green, 2=Blue.<br>\n<strong>commander</strong> — <em><strong>true</strong></em> if you are commanding.</p>\n<p>So do anyone know what the <strong>world_id</strong> number represents?</p>","arenanet":false},{"pubDate":"2014-02-07T20:24:42.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/3609113","author":"Thuron.5648","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on February 05 2014 04:49PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/3598025\">smiley.1438:</a></cite></div><div class=\"quotey\"><p>Now that the world/map display in friendlist etc. have been fixed, any chance that this will be also fixed for the mumble link data? I still receive “garbage” values when in WvW like 2147483655 for RoF borderland and 3221225491 for the EoTM instance i’ve been. Can’t you just return the actual home world id for players in WvW and overflows (e.g. 2005 in my case)?</p></div></blockquote>\n<p>This!!! I tried to use those values for a WvW application a few days ago, but couldn’t because of the garbage values. Would be amazing if we can get the world-id inside WvW too.</p>","arenanet":false},{"pubDate":"2014-02-05T16:49:50.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/3598025","author":"smiley.1438","body":"\n<p>Now that the world/map display in friendlist etc. have been fixed, any chance that this will be also fixed for the mumble link data? I still receive “garbage” values when in WvW like 2147483655 for RoF borderland and 3221225491 for the EoTM instance i’ve been. Can’t you just return the actual home world id for players in WvW and overflows (e.g. 2005 in my case)?</p>","arenanet":false},{"pubDate":"2013-08-31T17:26:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2741182","author":"Caldrick.6920","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on July 11 2013 12:08AM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/2388565\">Cliff Spradlin.3512:</a></cite></div><div class=\"quotey\"><p>You guys did a good job tracking down most of it.</p>\n<p>Here’s the whole thing:<br>\n</p><pre><code>\n// uniquely identifies a map instance for mumble\nstruct MumbleContext {\n    byte serverAddress[28]; // contains sockaddr_in or sockaddr_in6\n    unsigned mapId;\n    unsigned mapType;\n    unsigned shardId;\n    unsigned instance;\n    unsigned buildId;\n};\n</code></pre><p></p></div></blockquote>\n<p>Cliff,<br>\n  Would it be possible to add in which floor the character is currently at?  Each map seems to have different distances between floors, and some floor distances don’t appear to be constant on some maps.</p>\n<p>It looks like they are divided into 1000 inch increments from the couple of maps that I’ve looked at.</p>","arenanet":false},{"pubDate":"2013-08-31T08:25:48.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2739192","author":"Wothor.4781","body":"\n<p>I was aware that anyone active in here could do that.<br>\nYou could also have multiple accounts, then oauth bye bye.<br>\nIt’s always just hurdles someone has to have the motivation and ability to break first.</p>","arenanet":false},{"pubDate":"2013-08-30T12:38:55.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2732901","author":"poke.3712","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 29 2013 08:19PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/2729028\">Wothor.4781:</a></cite></div><div class=\"quotey\"><p>Anti Spy won’t be possible without that […]</p></div></blockquote>\n<p>Please note that the Mumble data can never be used as a safe authorization mechanism. It’s in a public memory location where I can write to from anywhere, so if I wanted to appear as someone else, I could easily do that, regardless of what information is included in the data.</p>\n<p>So if you want to make sure that e.g. the people accessing a world’s data are actually from that world, you will have to use some other mechanism instead. For example a login with a white list or something; or if we get OAuth logins, we might be able to use the GW2 account directly (that also might be the time when we get further account information).</p>","arenanet":false},{"pubDate":"2013-08-29T20:19:32.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2729028","author":"Wothor.4781","body":"\n<p>So, I’m back from vacation and looking at the added info on idendity.<br>\nOn first sight, it appears, world id and map id are duplicating the information from the context blob.<br>\nI’m just wondering if my original request, being the <strong>home</strong> world id (as opposed to guesting) got lost in the mail/translation.<br>\nAnti Spy won’t be possible without that, or a combination of smiley’s request for account name + a potentially upcoming API function to request that info for an account.</p>\n<p>Given the voicecom espionage issues folks complain about I’d just thought hey, I could help out with that and additionally add quite adequate protection of the mumble data, as has beeen requested.<br>\nPersonally I can live fine not having that, just pointing out the addition isn’t opening new options for that and am wondering if I should shelve that idea altogether with osx/linux users being excluded and the hassle of a plugin installation.</p>","arenanet":false},{"pubDate":"2013-08-10T03:34:22.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2596885","author":"smiley.1438","body":"\n<p>As you can see, i already use a prepared statement which is already pretty safe to store the data, but i’m umm… aware of unaware users ^.^ The most harmful characters are already blacklisted in the preg_match(), so this should be fine. Good point though on strlen(), i changed it to mb_strlen() instead.</p>","arenanet":false},{"pubDate":"2013-08-10T02:48:58.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2596699","author":"poke.3712","body":"\n<p>I honestly can’t think of a good reason why you would want to validate a character name. Sanitizing data is not neccesary, if you pass it correctly. For databases use parameterized statements so that you don’t need to care about escaping ever; for HTML output escape control characters as usual.</p>\n<p>Validating input is not trivial, especially when it’s about names. Also note that <code>strlen</code> is not aware of multibyte strings while GW2 supports those pretty well (we even can use umlauts!). And I would be careful making assumptions about global restrictions when you can just see those that apply for you (e.g. in GW1 I couldn’t enter Kanjis or Hanzis while others could enter those region-specific characters).</p>","arenanet":false},{"pubDate":"2013-08-08T19:58:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2586435","author":"smiley.1438","body":"\n<p>Sorry, i should have asked more clear: how would i validate a GW2 character name. See, when the mumble link data is used on web services like the one, Heimdall and me provide, it’s possible that also hackers try to break stuff e.g. with REST clients etc.. So it’s essential to validate any incoming data and/or sanitize it – thats what i already do. The only thing i’m unsure about is the character name. Check out my updated location receiver script to see what i’m doing:</p>\n<p><a href=\"https://github.com/codemasher/gw2api-tools/blob/master/examples/gw2location-receiver.php\">https://github.com/codemasher/gw2api-tools/blob/master/examples/gw2location-receiver.php</a></p>","arenanet":false},{"pubDate":"2013-08-08T18:44:10.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2585889","author":"Cliff Spradlin.3512","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 08 2013 03:51PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/2584603\">smiley.1438:</a></cite></div><div class=\"quotey\"><p>Cliff, could please you provide us with some information about the character sets which are allowed (or better: forbidden, since the PCRE will match only ASCII chars) in character names so that we could e.g. run a regexp on them in order to store them in a DB or use them in scripts/apps/websites in a XSS/hack safe manner</p></div></blockquote>\n<p>I assume you’re asking about the JSON in the identity structure? JSON is UTF-8, and so any valid UTF-8 character is possible. You’ll need to do whatever you need to do to store and safely present any data, though I can’t really think of any possible attacks related to the mumble data.</p>\n<p>It’s not clear to me how PCRE is related to any of this.</p>","arenanet":true},{"pubDate":"2013-08-08T15:51:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2584603","author":"smiley.1438","body":"\n<p>Cliff, could please you provide us with some information about the character sets which are allowed (or better: forbidden, since the PCRE will match only ASCII chars) in character names so that we could e.g. run a regexp on them in order to store them in a DB or use them in scripts/apps/websites in a XSS/hack safe manner?</p>\n<p>We know:</p>\n<ul>\n\t<li>names are max 19 chars long<br>\n * the <a href=\"https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet#RULE_.231_-_HTML_Escape_Before_Inserting_Untrusted_Data_into_HTML_Element_Content\">most harmful chars</a>  (to HTML, also partly SQL) won’t ever appear, which are: &amp; &lt; &gt; \" ’ / <br>\n * possibly and hopefully all other non-letter chars are forbidden too, such as backticks `, the hash sign # etc.</li>\n</ul>\n<p>(dang, lists on this forum are so annoying &gt;.&lt;)</p>","arenanet":false},{"pubDate":"2013-08-07T08:50:47.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2573785","author":"Felicja.6891","body":"\n<p>Thanks Cliff, this is very helpful. I appreciate your swift response.:)</p>","arenanet":false},{"pubDate":"2013-08-07T03:07:41.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2572075","author":"Cliff Spradlin.3512","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 07 2013 01:51AM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/2571699\">Felicja.6891:</a></cite></div><div class=\"quotey\"><p>Cliff, thank you for sharing with us the API and continually improving them.</p>\n<p>I know this may be a long shot, but…it would be fair to say that attempts to get MumbleLink to work on Mac OS X have been unsuccessful. <br>\nIs there any chance that you would be able to confirm with Transgaming that their cider wrapper of GW2 client for mac is actually executing the part of the Gw2 client code that is writing to a shared mapped memory “MumbleLink”?</p>\n<p>Also, would it be against the rules to scan the memory of the GW2 client itself and get the necessary values of the coordinates, given the MumbleLink is not working at present on Mac?</p></div></blockquote>\n<p>Sorry, I wouldn’t expect Mac support any time soon. The Mac version of Mumble uses a completely different transport mechanism. Even if you could tap into the Cider win32 emulation layer, and create a memory mapped file, the GW2 code responsible may simply be disabled for safety when running on Mac. We are just not setup to test and support this scenario at this time.</p>\n<p>It would be against our 3rd party app policy to scan the client in the manner you describe.</p>","arenanet":true},{"pubDate":"2013-08-07T01:51:03.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2571699","author":"Felicja.6891","body":"\n<p>Cliff, thank you for sharing with us the API and continually improving them.</p>\n<p>I know this may be a long shot, but…it would be fair to say that attempts to get MumbleLink to work on Mac OS X have been unsuccessful. <br>\nIs there any chance that you would be able to confirm with Transgaming that their cider wrapper of GW2 client for mac is actually executing the part of the Gw2 client code that is writing to a shared mapped memory “MumbleLink”?</p>\n<p>Also, would it be against the rules to scan the memory of the GW2 client itself and get the necessary values of the coordinates, given the MumbleLink is not working at present on Mac?</p>","arenanet":false},{"pubDate":"2013-08-07T00:12:33.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2571140","author":"poke.3712","body":"\n<p>Well I don’t want something that could impose a security risk. Something like the account name would work fine. After all, the account name is not really secret; it is visible here in the forums too, and when you add someone to your friendlist using a character name (which is already in the data), then you also see the account name.</p>","arenanet":false},{"pubDate":"2013-08-06T21:29:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2570529","author":"smiley.1438","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on August 06 2013 07:56PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/2569688\">poke.3712:</a></cite></div><div class=\"quotey\"><p>That’s very useful, thanks! Although it would be even better if there was some unique per account information so one could identify when a player switches the character. So either an account name, or some internal ID, or even a hash of anything account identifying would be very good.</p></div></blockquote>\n<p>I had this idea also in conjunction with our location tool but since unique IDs to identify user data are always problematic (<a href=\"http://www.h-online.com/open/news/item/Google-Chrome-to-do-away-with-unique-IDs-953601.html\">ask Google…</a>) i guess we need to rely on user input.</p>","arenanet":false},{"pubDate":"2013-08-06T19:56:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2569688","author":"poke.3712","body":"\n<p>That’s very useful, thanks! Although it would be even better if there was some unique per account information so one could identify when a player switches the character. So either an account name, or some internal ID, or even a hash of anything account identifying would be very good.</p>","arenanet":false},{"pubDate":"2013-08-06T17:22:36.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2568371","author":"Cliff Spradlin.3512","body":"\n<p>In the latest patch, the mumble link was enhanced to provide more information about the character in the ‘identity’ field. Hopefully this extra information is useful for API developers.</p>","arenanet":true},{"pubDate":"2013-07-11T13:26:21.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2392050","author":"Wothor.4781","body":"\n<p>Thanks for the information<img src=\"/include/images/smilies/smile.png\"><br>\nI might use this later on to overcome overflow server disparity for Positional Audio in CrossTalk (for Teamspeak), but I’m sure non-voip related applications will make much more interesting use of those bits.</p>\n<p>Might also help for the more-or-less-basic Anti-Spy Protection I’m looking into, but to leverage it to the next level it’d be helpful to have the home world id and possibly guild tag accessible. I’ve also been asked for the class to magically show as icon. While I’m totally fine with waiting for the API to reach those areas, I’ll just put it out there that I could spare you some network traffic by more extensively using idendity (note that game description would be unused yet, too), as mentioned in the Mumble Link description.</p>\n<p>For example breaking idendity [255] into char_name[x], char[3]guild_tag,  commander_and_whatever_flag[1], class[2], unsigned home_world_id.</p>\n<p>Could also be used for options with commander flags, like syncing priority speaker or assigning server/channel groups.</p>","arenanet":false},{"pubDate":"2013-07-11T00:08:39.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2388565","author":"Cliff Spradlin.3512","body":"\n<p>You guys did a good job tracking down most of it.</p>\n<p>Here’s the whole thing:<br>\n</p><pre><code>\n// uniquely identifies a map instance for mumble\nstruct MumbleContext {\n    byte serverAddress[28]; // contains sockaddr_in or sockaddr_in6\n    unsigned mapId;\n    unsigned mapType;\n    unsigned shardId;\n    unsigned instance;\n    unsigned buildId;\n};\n</code></pre><p></p>","arenanet":true},{"pubDate":"2013-07-09T15:37:44.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2376992","author":"Nithanim.5243","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on July 08 2013 03:01PM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/2370098\">zeeZ.5713:</a></cite></div><div class=\"quotey\"><p>Thus Nithanim is confusing the heck out of me, even if I assume he means ints and not single bytes.</p></div></blockquote>\n<p>Sorry for causing confusion…<br>\nI do actually mean single bytes.  I did only compare when which byte changes.<br>\nWith byte[ 2 ] i mean the byte at position 2 in “context” as byte-array.</p>\n<p>PS: Editing my previous post.</p>","arenanet":false},{"pubDate":"2013-07-08T16:45:11.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2370750","author":"olih.6925","body":"\n<p>Yeah, sorry for that<img src=\"/include/images/smilies/smile.png\">.<br>\nFor me, vizunah square : european server <br>\nFor field not known :</p>\n<p>0 – 3 -&gt; uint32 ? value == 2 : so, maybe the region like you said, not really certain without more data<br>\n8 – 27 -&gt; always 0 ?<br>\n32 – 35 -&gt; uint32 ? 5 in pve, 9 cbe, 11 green map, 10 blue map, 12 red map. ?<br>\n40 – 43 -&gt; always 0 ?</p>\n<p>:edit: correction,  for 32-35</p>","arenanet":false},{"pubDate":"2013-07-08T16:43:56.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2370742","author":"smiley.1438","body":"\n<p>btw. the world_id is the current world_id, which means that you can also see on which overflow server you are<img src=\"/include/images/smilies/wink.png\"></p>\n<p>(yes, lookin at you anet!)</p>\n<p>€: it doesn’t send the overflow world id, just a garbage value &lt;.&lt;</p>","arenanet":false},{"pubDate":"2013-07-08T15:01:15.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2370098","author":"zeeZ.5713","body":"\n<blockquote><div class=\"citey\"><cite title=\"Posted on July 08 2013 09:57AM\"><a href=\"/forum/community/api/GW2-s-Mumble-Link-context-data-format/2368742\">olih.6925:</a></cite></div><div class=\"quotey\"><p>byte<sup class=\"footnote\"><a href=\"#fn4\">4</a></sup>.byte<sup class=\"footnote\"><a href=\"#fn5\">5</a></sup>.byte<sup class=\"footnote\"><a href=\"#fn6\">6</a></sup>.byte<sup class=\"footnote\"><a href=\"#fn7\">7</a></sup>  == ip address of the map/server i think.<br>\n/ip in the chat window has the same number.</p>\n<p>edit:<br>\nbyte<sup class=\"footnote\"><a href=\"#fn44\">44</a></sup>-byte<sup class=\"footnote\"><a href=\"#fn47\">47</a></sup> == uint32 and seems to be the build version of the game (cf <a href=\"https://api.guildwars2.com/v1/build.json\">https://api.guildwars2.com/v1/build.json</a>)</p></div></blockquote>\n<p>That seems to add up, so I added that above.</p>\n<p>Please note that I’m using square brackets to give array sizes, not position :P float[ 3 ] is an array of three floats, not a float at position 3! Thus Nithanim is confusing the heck out of me, even if I assume he means ints and not single bytes.</p>\n<hr>\n<p><strong>E:</strong> I’ve attached random dumps from Plains of Ashford, Black Citadel, Lion’s Arch, Heart of the Mists, Red, Blue, and Green Borderlands. Didn’t get any overflows.</p>\n<p>map_id seems off the charts for WvW.</p>\n<p>There seems to be something in byte 32, maybe another int? Everything else is 0 across the board.</p>","arenanet":false},{"pubDate":"2013-07-08T09:57:23.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2368742","author":"olih.6925","body":"\n<p>byte[4].byte[5].byte[6].byte[7]  == ip address of the map/server i think.<br>\n/ip in the chat window has the same number.</p>\n<p>edit:<br>\nbyte[44]-byte[47] == uint32 and seems to be the build version of the game (cf <a href=\"https://api.guildwars2.com/v1/build.json\">https://api.guildwars2.com/v1/build.json</a>)</p>","arenanet":false},{"pubDate":"2013-07-07T23:27:48.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2366534","author":"Khisanth.2948","body":"\n<p>Shouldn’t one of these be the layer?</p>","arenanet":false},{"pubDate":"2013-07-07T18:32:01.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2365245","author":"Nithanim.5243","body":"\n<p>That  is what I found out while experimenting:<br>\nbyte[ ] context = new byte[ 48 ];</p>\n<pre><code>context[0] //could possibly represent the region - 1 for American, 2 for European server\ncontext[4] //could match the server-id\ncontext[28] //map-id (for WvWvW: 94=Red; 95=Green; 96=Blue)</code></pre>\n<pre><code>\nworld_id = byte[0]*1000+context[4]</code></pre>\n<pre><code>\n </code></pre>\n<p><strong>edit:</strong><br>\nAssumptions/suggestions/some conclusion after a short period of further testing:<br>\n</p><pre><code>context[6]:</code></pre> overflow-server? it appears that 146=overflow; 159=normal<p></p>\n<pre><code>context[40]:</code></pre>\n<p>unknown | note: equals 128 in WvW (needs review)</p>\n<pre><code>context[7]:</code></pre>\n<p>unknown | note:  equals 37 in overflow, 224 in normal (for me at least; tested in lion’s arch); could somewhat be the id of the actual server working in background (needs review)</p>\n<pre><code>context[36]:</code></pre>\n<p>unknown | note: equals 158 when on miller-home-servers (my home) and 222 on gunnar (as guest) (if not in WvW or overflow) (tested in: gendarran, lion’s arch, bloodtide);  equals 5 in WvW; 4 in overflow (needs review)</p>\n<p><strong>edit2</strong><br>\n(hopefully) fixed: confusion<img src=\"/include/images/smilies/wink.png\"></p>","arenanet":false},{"pubDate":"2013-07-06T20:47:13.000Z","guid":"http://forum-en.guildwars2.com/forum/community/api/GW2-s-Mumble-Link-context-data-format/2361105","author":"zeeZ.5713","body":"\n<p>We know Mumble Link uses this data format:</p>\n<table>\n\t<tbody><tr>\n\t\t<th>Data format </th>\n\t\t<th>Description </th>\n\t</tr>\n\t<tr>\n\t\t<td> uint32_t </td>\n\t\t<td> uiVersion </td>\n\t</tr>\n\t<tr>\n\t\t<td> uint32_t </td>\n\t\t<td> uiTick </td>\n\t</tr>\n\t<tr>\n\t\t<td> float[ 3 ] </td>\n\t\t<td> fAvatarPosition </td>\n\t</tr>\n\t<tr>\n\t\t<td> float[ 3 ]  </td>\n\t\t<td> fAvatarFront </td>\n\t</tr>\n\t<tr>\n\t\t<td> float[ 3 ] </td>\n\t\t<td> fAvatarTop </td>\n\t</tr>\n\t<tr>\n\t\t<td> wchar_t[ 256 ] </td>\n\t\t<td> name </td>\n\t</tr>\n\t<tr>\n\t\t<td> float[ 3 ] </td>\n\t\t<td> fCameraPosition </td>\n\t</tr>\n\t<tr>\n\t\t<td> float[ 3 ] </td>\n\t\t<td> fCameraFront </td>\n\t</tr>\n\t<tr>\n\t\t<td> float[ 3 ] </td>\n\t\t<td> fCameraTop </td>\n\t</tr>\n\t<tr>\n\t\t<td> wchar_t[ 256 ] </td>\n\t\t<td> identity / character name </td>\n\t</tr>\n\t<tr>\n\t\t<td> uint32_t </td>\n\t\t<td> context_len </td>\n\t</tr>\n\t<tr>\n\t\t<td> byte[ 256 ] </td>\n\t\t<td> context </td>\n\t</tr>\n\t<tr>\n\t\t<td> wchar_t[ 2048 ] </td>\n\t\t<td> description </td>\n\t</tr>\n</tbody></table>\n<p>But what about the stuff inside context? GW2 writes context_len as 48 bytes, but what’s inside?</p>\n<p>Edit: See <a href=\"https://github.com/arenanet/api-cdi/blob/master/mumble.md\">https://github.com/arenanet/api-cdi/blob/master/mumble.md</a></p>","arenanet":false}]}